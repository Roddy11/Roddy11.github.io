<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.1.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="选择有时候比努力更重要">
<meta property="og:type" content="website">
<meta property="og:title" content="Roddy&#39;s blog">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Roddy&#39;s blog">
<meta property="og:description" content="选择有时候比努力更重要">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Roddy">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>Roddy's blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Roddy's blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/04/02/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Roddy">
      <meta itemprop="description" content="选择有时候比努力更重要">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Roddy's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/04/02/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86%E7%AC%94%E8%AE%B0/" class="post-title-link" itemprop="url">计算机组成原理笔记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-04-02 16:58:06 / 修改时间：17:08:30" itemprop="dateCreated datePublished" datetime="2022-04-02T16:58:06+08:00">2022-04-02</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="1-计算机组成原理概论"><a href="#1-计算机组成原理概论" class="headerlink" title="1. 计算机组成原理概论"></a>1. 计算机组成原理概论</h2><p><strong>计算机</strong>：数字电子计算机</p>
<p><strong>组成</strong>：计算机硬件系统的逻辑实现</p>
<p><strong>原理</strong>：不以具体机型为依托的，基本实现原理。</p>
<p>计算机组成原理：掌握如何实现的具体细节。</p>
<h3 id="1-1-计算机系统简介"><a href="#1-1-计算机系统简介" class="headerlink" title="1.1 计算机系统简介"></a>1.1 计算机系统简介</h3><p>计算机系统由两大部分组成：硬件和软件。软件又包括系统软件和应用软件。</p>
<p>系统软件可以管理整个计算机系统：</p>
<ul>
<li><strong>语言处理程序（将高级语言转换为机器可以懂的指令）</strong></li>
<li><strong>操作系统</strong></li>
<li><strong>服务性程序（比如数学库、MPI服务程序进行并行之间的通信）</strong></li>
<li><strong>数据库管理系统</strong></li>
<li><strong>网络软件</strong></li>
</ul>
<p>应用软件是按照任务需要编制成的程序。</p>
<p>可以简单将软硬件看作一个层次结构，<strong>硬件为软件提供接口，系统软件又为应用软件形成接口，来完成不同的程序。</strong></p>
<p>对于计算机的物理结构层次，我们这门课主要研究逻辑层和微电路层的具体实现方式。</p>
<p>计算机系统的指令层次如下图所示</p>
<p><img src="https://pic1.zhimg.com/80/v2-f8f082641a793f54b240a3bedc01be50_720w.jpg"></p>
<p> 操作系统可以管理软硬件的资源。 </p>
<p><img src="https://pic1.zhimg.com/80/v2-3f91e6af54a662b9d5b72731171ef3b4_720w.jpg"></p>
<p>计算机系统结构<strong>定义了系统软硬件的交界面，定义了哪些功能由软件实现，哪些功能由硬件实现</strong>，定义为&#x3D;&#x3D;<strong>程序员所见到的计算机系统的属性概念性的结构与功能特性</strong>&#x3D;&#x3D;。（指令系统，数据类型，寻址技术，I&#x2F;O机理），即程序员需要理解的东西。</p>
<p>计算机组成：实现计算机体系结构所体现的属性，即<strong>具体指令的实现。</strong></p>
<h3 id="1-2-计算机的基本组成"><a href="#1-2-计算机的基本组成" class="headerlink" title="1.2 计算机的基本组成"></a>1.2 计算机的基本组成</h3><h3 id="1-2-1-冯诺依曼结构"><a href="#1-2-1-冯诺依曼结构" class="headerlink" title="1.2.1 冯诺依曼结构"></a>1.2.1 冯诺依曼结构</h3><p><img src="https://pic2.zhimg.com/80/v2-400ee3ebfddf3d69912ac93f011374ed_720w.jpg"></p>
<p>上图实线表示数据流动，虚线表示控制反馈。</p>
<ul>
<li>计算机结构由五大部件组成：<strong>存储器、运算器、控制器、输入设备、输出设备</strong>。</li>
<li><strong>以运算器为中心</strong>，**&#x3D;&#x3D;程序存储在存储器中&#x3D;&#x3D;**。</li>
<li><strong>指令和数据以同等地位</strong>保存在存储器中，可以按照地址寻找。</li>
<li>指令和数据由二进制表示，指令由操作码和地址码组成，<strong>操作码指明指令要干什么，地址码指明操作数的地址。</strong></li>
</ul>
<p>冯诺依曼结构以运算器为中心，容易形成瓶颈。我们可以使用存储器作为中心来进行优化，但是还不够。</p>
<h3 id="1-2-2-现代计算机硬件框图"><a href="#1-2-2-现代计算机硬件框图" class="headerlink" title="1.2.2 现代计算机硬件框图"></a>1.2.2 现代计算机硬件框图</h3><p><img src="https://pic3.zhimg.com/80/v2-69a1d35329ee45fc170771d35a166b86_720w.jpg" alt="img"></p>
<p>指令和数据都是保存在存储器中的。</p>
<h3 id="1-2-3-存储器的基本组成"><a href="#1-2-3-存储器的基本组成" class="headerlink" title="1.2.3 存储器的基本组成"></a>1.2.3 存储器的基本组成</h3><p><img src="https://pic4.zhimg.com/80/v2-944e43e25966b494973463043e549bab_720w.jpg" alt="img"></p>
<p><strong>MAR是存储器地址寄存器，保存了存储单元的地址和编号，长度反映存储单元的个数。</strong></p>
<p><strong>MDR是存储器数据寄存器，保存了要存入存储体的数据或刚从存储体拿出来的数据，长度反映存储字长。</strong></p>
<p>利用MAR和MDR来将数据放入存储器。</p>
<h3 id="1-2-4-运算器的结构"><a href="#1-2-4-运算器的结构" class="headerlink" title="1.2.4 运算器的结构"></a>1.2.4 运算器的结构</h3><p><img src="https://pic3.zhimg.com/80/v2-1dae6cfbd865f753be7315f812069af2_720w.jpg" alt="img"></p>
<p>ALU（算术逻辑单元），通常是一个组合电路，输入撤销，输出也撤销，<strong>因此需要加上寄存器保存参与运算的计算</strong>。</p>
<p>数据寄存器X保存输入参数，ACC为累加寄存器，保存结果，<strong>乘法可能使得数据位数保存不下，使用MQ寄存器保存低位。</strong></p>
<p>上表中存放了不同运算中，运算器的工作过程，以乘法为例，操作过程如下：</p>
<p><img src="https://pic3.zhimg.com/80/v2-027a4d6e589fb343988ccfa78f34fc96_720w.jpg" alt="img"></p>
<ul>
<li>首先将被乘数取出来放到ACC中</li>
<li>从指令中的乘数地址M中取出乘数，送入MQ中</li>
<li>将被乘数送到X中</li>
<li>将ACC清零</li>
<li>完成乘法操作，结果由ACC和MQ保存</li>
</ul>
<p>这些操作的过程顺序是由<strong>控制器来控制完成的。</strong></p>
<h3 id="1-2-5-控制器的基本结构"><a href="#1-2-5-控制器的基本结构" class="headerlink" title="1.2.5 控制器的基本结构"></a>1.2.5 控制器的基本结构</h3><p>控制器的功能是<strong>解释指令（完成指令）、保证指令的按序执行</strong>。</p>
<p><img src="https://pic2.zhimg.com/80/v2-8565f5dd792980b286d549bb7e6024a9_720w.jpg" alt="img"></p>
<ul>
<li><strong>PC（程序计数器）寄存器保存了当前指令的地址，进行取指令，PC有计数功能。</strong></li>
<li><strong>IR（指令寄存器）存放当前要执行的指令，将操作码送入CU进行分析。</strong></li>
<li><strong>CU（控制单元）发出控制信号，控制相对应的部件来执行指令。</strong></li>
</ul>
<p>下面以取数指令为例分析指令执行过程（取数送到ACC中）</p>
<p><img src="https://pic1.zhimg.com/80/v2-2daf226d97d2b36ccd8fcdf01a07dab4_720w.jpg" alt="img"></p>
<ol>
<li>PC保存指令的地址，送到MAR进行寻址</li>
<li>MAR根据地址到存储体中找到保存的指令</li>
<li>MDR从存储体中取出指令</li>
<li>送到IR中，IR存放要执行的指令</li>
<li>IR将操作码送入CU中进行分析</li>
<li>同时将地址码送到MAR中找这个数的数据</li>
<li>MAR根据地址到存储体中找到要取的数</li>
<li>MDR保存从存储体中取出的数</li>
<li>CU控制下，将要取的数送到ACC中。</li>
</ol>
<p><strong>CU分析控制这些步骤的过程。</strong></p>
<h3 id="1-3-计算机硬件的主要技术指标"><a href="#1-3-计算机硬件的主要技术指标" class="headerlink" title="1.3 计算机硬件的主要技术指标"></a>1.3 计算机硬件的主要技术指标</h3><ul>
<li>机器字长：CPU一次能处理数据的位数，与CPU中寄存器位数有关。</li>
<li>运算速度：主频、核数以及每个核支持的线程数、CPI（执行一条指令所需的时钟周期数）、MIPS（每秒执行百万条指令）、FLOPS（每秒浮点运算次数）。</li>
<li>存储容量：主存容量（可使用存储单元个数×存储字长来表示存储体容量，MAR * MDR）（也可使用字节数来表示）、辅存容量（字节数表示）。</li>
</ul>
<h2 id="2-计算机的发展以及应用"><a href="#2-计算机的发展以及应用" class="headerlink" title="2. 计算机的发展以及应用"></a>2. 计算机的发展以及应用</h2><h3 id="2-1-计算机的发展史"><a href="#2-1-计算机的发展史" class="headerlink" title="2.1 计算机的发展史"></a>2.1 计算机的发展史</h3><p>第一台计算机，1946年ENIAC，十进制运算。</p>
<p>电子技术的发展与计算机体系结构技术的发展对计算机的发展产生了决定性作用。</p>
<p>根据硬件技术来对计算机进行划分代</p>
<p><strong>电子管→晶体管→中小规模集成电路→大规模集成电路→超大规模集成电路</strong></p>
<p>软件技术的发展：机器语言（面向机器）、汇编语言（面向机器）、高级语言（面向问题）。</p>
<h3 id="2-2-计算机的应用"><a href="#2-2-计算机的应用" class="headerlink" title="2.2 计算机的应用"></a>2.2 计算机的应用</h3><ul>
<li>科学计算和数据处理</li>
<li>工业控制和实时控制</li>
<li>网络技术</li>
<li>虚拟现实</li>
<li>办公自动化和管理信息系统</li>
<li>CAD&#x2F;CAM&#x2F;CIMS</li>
<li>多媒体技术</li>
<li>人工智能</li>
</ul>
<h2 id="3-系统总线"><a href="#3-系统总线" class="headerlink" title="3. 系统总线"></a>3. 系统总线</h2><h3 id="3-1-总线（bus）的基本概念"><a href="#3-1-总线（bus）的基本概念" class="headerlink" title="3.1 总线（bus）的基本概念"></a>3.1 总线（bus）的基本概念</h3><p>总线是连接各个部件的信息传输线，<strong>是各个部件共享的传输介质，</strong>是信号的公共传输线。</p>
<p>如果使用单总线结构（系统总线），那么<strong>同时只能有一对部件进行信号传输</strong>，效率较低，使用双总线结构效率会更高。</p>
<p><img src="https://pic3.zhimg.com/80/v2-9a04dd0d8329e04fd06ec42467131cba_720w.jpg" alt="img"></p>
<p>上面的结构，无法在I&#x2F;O和主存之间进行直接的信息传输，必须要通过CPU。</p>
<p><img src="https://pic3.zhimg.com/80/v2-b5b1ba238025a0f9938165accb1a4f9e_720w.jpg" alt="img"></p>
<h3 id="3-2-总线的分类"><a href="#3-2-总线的分类" class="headerlink" title="3.2 总线的分类"></a>3.2 总线的分类</h3><ul>
<li><p>片内总线：芯片内部的总线。</p>
</li>
<li><p>系统总线：计算机各部件之间的信息传输线。可分为：</p>
</li>
<li><ul>
<li><strong>数据总线</strong>，双向的，一般小于等于机器字长和存储字长。</li>
<li><strong>地址总线</strong>，单向的，与存储地址、I&#x2F;O地址有关。</li>
<li><strong>控制总线</strong>，双向（CPU发出存储器读写指令，总线允许，中断确认等；CPU接收中断请求、总线请求）</li>
</ul>
</li>
<li><p>通信总线：计算机之间或计算机和其它设备之间的通信，并行通信总线和串行通信总线。</p>
</li>
</ul>
<h3 id="3-3-总线的特性和性能指标"><a href="#3-3-总线的特性和性能指标" class="headerlink" title="3.3 总线的特性和性能指标"></a>3.3 总线的特性和性能指标</h3><p>总线印刷到电路板上（主板），其他设备插板插到主板上。</p>
<p><img src="https://pic2.zhimg.com/80/v2-686025071c4309677ef414d14bcd0cf1_720w.jpg" alt="img"></p>
<p><img src="https://pic2.zhimg.com/80/v2-31dc1a5a161020875b92e8fe70961701_720w.jpg" alt="img"></p>
<p>总线的性能指标：</p>
<ul>
<li>总线宽度：数据线根数，同时可以传输多少位。</li>
<li>标准传输率：每秒传输的最大字节数MBps</li>
<li>时钟同步&#x2F;不同步</li>
<li>总线复用：地址线与数据线是否可以复用</li>
<li>信号线数：地址线、数据线和控制线的总和</li>
<li>总线控制方式</li>
<li>其他指标：负载能力等</li>
</ul>
<p><img src="https://pic3.zhimg.com/80/v2-5d968958b712d0a2724af6824bdd93ee_720w.jpg" alt="img"></p>
<h3 id="3-4-总线结构"><a href="#3-4-总线结构" class="headerlink" title="3.4 总线结构"></a>3.4 总线结构</h3><p><img src="https://pic1.zhimg.com/80/v2-48c250bf81a7d88ca9033cb90f4b8d60_720w.jpg" alt="img"></p>
<p><img src="https://pic3.zhimg.com/80/v2-b7450aa5377fae2a59d7b034dc1b4a66_720w.jpg" alt="img"></p>
<p><strong>增加了DMA（直接存储器访问）总线，外部设备直接访问存储器内存。</strong>高速设备直接通过DMA访问主存。</p>
<p><img src="https://pic2.zhimg.com/80/v2-e99a5cffacc23efec4bb49fdf16ac7ed_720w.jpg" alt="img"></p>
<p>CPU与cache通过局部总线进行相连，扩展总线将外部设备连接。</p>
<p><img src="https://pic4.zhimg.com/80/v2-5b91de164ae2dff903b0b7b0c0851b7f_720w.jpg" alt="img"></p>
<p>高速设备和低速设备分离，分别连接到高速总线和扩展总线上。</p>
<p><img src="https://pic2.zhimg.com/80/v2-1f7ae7d57def2dc29ed21ef32eccf229_720w.jpg" alt="img"></p>
<p>PCI高速总线来连接高速设备，PCI总线可以通过桥来进行扩展。</p>
<h3 id="3-5-总线控制"><a href="#3-5-总线控制" class="headerlink" title="3.5 总线控制"></a>3.5 总线控制</h3><h3 id="3-5-1-总线判优控制"><a href="#3-5-1-总线判优控制" class="headerlink" title="3.5.1 总线判优控制"></a>3.5.1 总线判优控制</h3><p>通过是否能对总线发出占用请求，我们将设备分为主设备（主模块）和从设备（从模块）。<strong>主设备可以对总线有控制权，从设备响应从主设备发来的总线命令。</strong></p>
<p>总线判优控制可以分为两种：集中式和分布式。下面介绍几种集中式的总线判优控制结构。</p>
<p><img src="https://pic1.zhimg.com/80/v2-861b7aeec653084b2dda2ab9e4ae8130_720w.jpg" alt="img"></p>
<p>主设备通过BR申请总线的控制权，<strong>有设备在使用总线，则设置BS。总线控制部件通过BG来链式查询这些接口是否提出了BR，遇到了BR则交出控制权。</strong></p>
<p><strong>因此，优先顺序则为BG的查询顺序</strong>。这种结构对电路故障特别敏感，尤其是BG，如果BG后面出了问题，会导致后面的设备一直不会响应。</p>
<p><img src="https://pic4.zhimg.com/80/v2-c6994c004889ac4b70e8af961524b90b_720w.jpg" alt="img"></p>
<p>数据线用于数据的传输，地址线用于从设备的查找。<strong>通过设备地址线来查找某个设备是否发出总线请求。计数器的值通过设备地址线进行传输，来查找某个设备是否发出请求。</strong>可以自定义计数器的计数方式，来改变从哪个设备先查询等。</p>
<p><img src="https://pic1.zhimg.com/80/v2-6fc0b9baef4000172b465032bcd6e6e4_720w.jpg" alt="img"></p>
<p>为每个I&#x2F;O接口增加了BR和BG，<strong>通过排队器来进行优先级排队</strong>。这种方式使用的线数较多。</p>
<h3 id="3-5-2-总线通信控制"><a href="#3-5-2-总线通信控制" class="headerlink" title="3.5.2 总线通信控制"></a>3.5.2 总线通信控制</h3><p>为了解决通信双方（主从设备）协调配合的问题。</p>
<p>总线的传输周期（完成一次主从设备完整可靠的传输所需要的时间）：</p>
<ul>
<li>申请分配阶段：主设备申请，总线决定</li>
<li>寻址阶段：主设备向向从设备给出地址和命令</li>
<li>传数阶段：主设备和从设备进行交换数据</li>
<li>结束阶段：主从设备撤销有关信息</li>
</ul>
<p><img src="https://pic4.zhimg.com/80/v2-09b037f3510443143bc0562ae67b0637_720w.jpg" alt="img"></p>
<p><img src="https://pic3.zhimg.com/80/v2-b9fbb40ece372f60d0c503a8203edd0e_720w.jpg" alt="img"></p>
<ul>
<li>T1，主设备给出地址信号</li>
<li>T2，给出从设备的读命令信号</li>
<li>T3，从设备给出数据，输出到总线，完成数据交换</li>
<li>T4，撤销地址信号，结束周期</li>
</ul>
<p>强制同步，如果设备之间速度不同，快的设备需要等慢的设备。</p>
<p><img src="https://pic2.zhimg.com/80/v2-bf4f0e7fde69e32e3e6c096b5d150a05_720w.jpg" alt="img"></p>
<p><strong>不互锁：不管从设备是否接收到请求信号，过段时间主设备都会撤销请求。不管主设备是否接收到应答信号，从设备多段时间都会撤销应答。</strong></p>
<p>半互锁和全互锁针对上面进行改进。</p>
<p><img src="https://pic2.zhimg.com/80/v2-c350d75aee932c08977c635af7c70739_720w.jpg" alt="img"></p>
<p><img src="https://pic3.zhimg.com/80/v2-bf899d524112b9cd84b9f79fa2e2545e_720w.jpg" alt="img"></p>
<p>增加等待响应信号，当wait为低电平，则等待一个T。</p>
<p><img src="https://pic3.zhimg.com/80/v2-498179fa698c849afd894fd05900aea6_720w.jpg" alt="img"></p>
<p>使用分离式通信来将总线空闲的时间也充分利用起来。</p>
<p><img src="https://pic2.zhimg.com/80/v2-a5e440385d7b6d3ad44f917e1c23d309_720w.jpg" alt="img"></p>
<p><img src="https://pic4.zhimg.com/80/v2-f509b451261ca9960f4d801aeddc7543_720w.jpg" alt="img"></p>
<h2 id="4-存储器"><a href="#4-存储器" class="headerlink" title="4. 存储器"></a>4. 存储器</h2><h3 id="4-1-概述"><a href="#4-1-概述" class="headerlink" title="4.1 概述"></a>4.1 概述</h3><p>按照存取方式对存储器进行分类：</p>
<ul>
<li>存取时间与物理地址无关（随机访问）：随机存储器、只读存储器。</li>
<li>存取时间与物理地址有关（串行访问）：顺序存取存储器（磁带）、直接存取存储器（磁盘）。</li>
</ul>
<p>按照在计算机中的作用分类：</p>
<p><img src="https://pic1.zhimg.com/80/v2-3e474b4e2264a9d5329dbb547d6f66e8_720w.jpg" alt="img"></p>
<p>存储器的层次结构：</p>
<p><img src="https://pic4.zhimg.com/80/v2-1c67cdce3a2f34f0bde957a63c88f7eb_720w.jpg" alt="img"></p>
<ul>
<li>寄存器包括体系结构寄存器和非体系结构寄存器。</li>
<li>一部分缓存放在了CPU之中。</li>
</ul>
<p><img src="https://pic3.zhimg.com/80/v2-ecb8493e385dd90519547b2260d84a0a_720w.jpg" alt="img"></p>
<ul>
<li>缓存——主存层次，使用硬件方法连接到一个整体（对程序员透明，即不需要了解），速度较快，解决CPU和主存之间速度差距较大的问题，缓存即为cache，CPU可以直接从缓存调用数据，cache和主存也进行数据交换。使用主存储器的实地址和物理地址。</li>
<li>主存——辅存层次，使用软硬件结合方式连接，容量较大，解决容量不足问题。这个层次称为虚拟存储器，使用虚地址和逻辑地址。</li>
</ul>
<h3 id="4-2-主存储器"><a href="#4-2-主存储器" class="headerlink" title="4.2 主存储器"></a>4.2 主存储器</h3><h3 id="4-2-1-概述"><a href="#4-2-1-概述" class="headerlink" title="4.2.1 概述"></a>4.2.1 概述</h3><p>主存的基本组成：</p>
<p><img src="https://pic4.zhimg.com/80/v2-a4cb6c6fa5d63b7d76cc8c9c98532a73_720w.jpg" alt="img"></p>
<p>主存与CPU之间的联系：</p>
<p><img src="https://pic1.zhimg.com/80/v2-c14afbf373caeb20cf157df27bbda84c_720w.jpg" alt="img"></p>
<p>主存中存储单元地址的分配：</p>
<ul>
<li>每个字节（8位）一个地址，如果一个存储单元存储32位，即四个字节为一个字，可<strong>以将高位字节&#x2F;低位字节，放在小的地址作为字地址。</strong></li>
</ul>
<p>主存的技术指标：</p>
<p><img src="https://pic2.zhimg.com/80/v2-42cda5798755d4a507b46a0d2dd0f789_720w.jpg" alt="img"></p>
<h3 id="4-2-2-主存储器半导体芯片简介"><a href="#4-2-2-主存储器半导体芯片简介" class="headerlink" title="4.2.2 主存储器半导体芯片简介"></a>4.2.2 主存储器半导体芯片简介</h3><p>基本结构：</p>
<p><img src="https://pic1.zhimg.com/80/v2-b7ff96d3e063a3a156a9994a487b0b00_720w.jpg" alt="img"></p>
<ul>
<li>地址线（单向）给出地址，经过译码驱动电路来选择指定的存储单元，完成数据的读写操作（数据线双向）。</li>
<li>片选线是芯片选择信号，给出这次选择的地址是不是这个芯片的地址。</li>
<li>读写控制线，控制操作允许读还是写。</li>
<li>根据地址线和数据线条数，可以计算出芯片容量。<strong>如果地址线10条，数据线4条，那么芯片容量则为1K×4位。即1K个地址，每个地址数据4位。</strong></li>
</ul>
<p>译码驱动方式：</p>
<p>第一种方法是线选法</p>
<p><img src="https://pic3.zhimg.com/80/v2-72e60fb35e95ccd82f6196065319305a_720w.jpg" alt="img"></p>
<ul>
<li>使用地址译码器，给定输入，输出只有一根线（字线）是有效的，图中一根线中是8个芯片组合成一个字，那么只有一根线的这一组芯片有效。</li>
<li><strong>这种方法，每个字的存储单元都需要一根线，当容量较大的时候，很麻烦。</strong></li>
</ul>
<p>第二种方法是重合法</p>
<p><img src="https://pic4.zhimg.com/80/v2-b3e78113246d8c759c93ac9f54857c93_720w.jpg" alt="img"></p>
<ul>
<li>将所有存储单元布置成二维的阵列，使用两个地址译码器XY，一组(X,Y)对应一个存储单元。</li>
<li>这样会大大降低所需要的线数量。</li>
</ul>
<h3 id="4-2-3-随机存取存储器（RAM）"><a href="#4-2-3-随机存取存储器（RAM）" class="headerlink" title="4.2.3 随机存取存储器（RAM）"></a>4.2.3 随机存取存储器（RAM）</h3><h3 id="4-2-3-1-静态RAM（SRAM）"><a href="#4-2-3-1-静态RAM（SRAM）" class="headerlink" title="4.2.3.1 静态RAM（SRAM）"></a>4.2.3.1 静态RAM（SRAM）</h3><p>SRAM的基本电路：</p>
<p><img src="https://pic1.zhimg.com/80/v2-f91729a10c9c02ac0e0b40eee2873448_720w.jpg" alt="img"></p>
<ul>
<li><strong>使用触发器T1-T4来存储0&#x2F;1，T5、T6控制存储单元读写，实际中会有许多虚线框进行堆叠，T7、T8列开关，一列共用。同样，可以横向进行堆叠，那么行地址选择的这一行，所有存储单元的T5和T6都会导通，但是只有对应列也有效的那个存储单元才进行读写。</strong></li>
<li><strong>通过行选和列选，选中进行读写操作的存储单元。</strong></li>
</ul>
<p>SRAM芯片举例（Intel 2114）：</p>
<p><img src="https://pic1.zhimg.com/80/v2-e69116568a98aebf26024116e8306794_720w.jpg" alt="img"></p>
<ul>
<li>WE读写控制信号，CS片选信号，A0-A9为地址线，4个I&#x2F;O数据线。</li>
<li>10根地址线，使用重合法，6线为行地址，4线为列地址，每个列信号控制四列，这样一次就可以选择4位，将这4位看做是一个存储单元。就完成了1K×4位的选择。</li>
</ul>
<h3 id="4-2-3-2-动态RAM（DRAM）"><a href="#4-2-3-2-动态RAM（DRAM）" class="headerlink" title="4.2.3.2 动态RAM（DRAM）"></a>4.2.3.2 动态RAM（DRAM）</h3><p>DRAM的基本电路：</p>
<p><img src="https://pic3.zhimg.com/80/v2-1c1006911b42899ac25b7532eb848f0a_720w.jpg" alt="img"></p>
<ul>
<li>利用电容，如果电容保存了电荷，则认为保存是1，没有电，则认为是0。</li>
<li>保存在Cg上，T1、T2、T3是控制管。</li>
<li><strong>读出信息与原信息相反，需要加非门。</strong></li>
<li><strong>写入信息与输入信息相同。</strong></li>
</ul>
<p>还有一种结构是单管动态RAM：</p>
<p><img src="https://pic3.zhimg.com/80/v2-7d5a3d3ecb3f411a4117c7bfee4558a2_720w.jpg" alt="img"></p>
<ul>
<li>读出数据时，数据线有电，则为1。</li>
<li>写入时，Cs充电为1，放电为0。</li>
</ul>
<p>三管DRAM芯片举例（Intel 1103）：</p>
<p><img src="https://pic2.zhimg.com/80/v2-fb0f1504423e9c9a49b2f1d62e295ae1_720w.jpg" alt="img"></p>
<ul>
<li>因为电容会漏电，刷新放大器会定时对存储的信息进行刷新。</li>
</ul>
<p>单管DRAM芯片举例（Intel 4116 16k×1位）：</p>
<p><img src="https://pic1.zhimg.com/80/v2-33b78430483e07932e1a7ef4947bedd8_720w.jpg" alt="img"></p>
<ul>
<li>只有7根地址线，通过两次，来接受行地址和列地址，存放到对应的缓存器中。</li>
<li>通过行时钟、列时钟、写时钟来控制读写。</li>
</ul>
<p>动态RAM的刷新：</p>
<ul>
<li>每一次刷新只与行地址有关，与列地址没有关系，每次刷新一行。</li>
<li>集中刷新（在某段时间集中刷新所有的电容），这段时间DRAM是不可用的，称为死区。</li>
<li>分散刷新（每次读写操作之后，将某一行刷新），相当于将原来的读写操作的时间变长，把刷新操作放在读写操作中，这样就不存在死区。分散刷新比较频繁，有点过度刷新了。</li>
<li>异步刷新（将上面两种结合），则每隔一段时间对某一行进行刷新，即多个读写操作加一个刷新操作。</li>
</ul>
<h3 id="4-2-3-3-两种RAM的比较"><a href="#4-2-3-3-两种RAM的比较" class="headerlink" title="4.2.3.3 两种RAM的比较"></a>4.2.3.3 两种RAM的比较</h3><p><img src="https://pic4.zhimg.com/80/v2-3cea24c6da2cb4a2d97fbceaf3f26507_720w.jpg" alt="img"></p>
<ul>
<li>DRAM的集成度较高，每个存储单元复杂度较低。</li>
<li>SRAM的速度较快，一般用作缓存。</li>
</ul>
<h3 id="4-2-4-只读存储器（ROM）"><a href="#4-2-4-只读存储器（ROM）" class="headerlink" title="4.2.4 只读存储器（ROM）"></a>4.2.4 只读存储器（ROM）</h3><p>ROM中一般保存系统信息或系统程序。早期是只读的，不可以写，经过多年的发展和改进，现在的ROM可以自己多次读写。</p>
<ul>
<li>掩模ROM（MROM）：只读，不能修改。行列选择线交叉处有MOS管则为1，没有则为0。</li>
<li>PROM（一次性编程）：熔丝断了，则为0，否则为1。可以一次性的破坏性编程。</li>
<li>EPROM（可以多次编程）：N型沟道浮动栅MOS电路。S与D导通为1，不导通为0。</li>
<li>EEPROM（多次性编程）：电可擦写、局部擦写、全部擦写。</li>
<li>Flash Memory（闪存型存储器）：比EEPROM快，具有RAM的一些功能。</li>
</ul>
<h3 id="4-2-5-CPU与存储器的连接"><a href="#4-2-5-CPU与存储器的连接" class="headerlink" title="4.2.5 CPU与存储器的连接"></a>4.2.5 CPU与存储器的连接</h3><p>存储器容量扩展可以通过位扩展（增加存储字长）、字扩展（增加存储字的数量）、同时扩展。</p>
<p>CPU与存储器的连接：</p>
<ul>
<li>地址线的连接：<strong>低位作为地址，高位作为片选信号</strong>。</li>
<li>数据线的连接</li>
<li>读写命令控制线的连接</li>
<li>片选线的连接：<strong>MREQ信号（表示该信号是连接存储器还是I&#x2F;O接口）一定要连接到片选信号中，</strong>使得只有这个信号有效，才是CPU和内存连接工作。</li>
<li>合理选择存储芯片（ROM&#x2F;RAM，芯片的性能参数）</li>
<li>其他：时序、负载</li>
</ul>
<h3 id="4-2-6-存储器的校验"><a href="#4-2-6-存储器的校验" class="headerlink" title="4.2.6 存储器的校验"></a>4.2.6 存储器的校验</h3><p>校验，检测合法代码，对非法代码进行纠错。</p>
<p><strong>编码的纠错、检错能力与编码的最小距离有关。最小距离为任意两组合法代码之间二进制位数的最小差异。</strong> $$ L-1 &#x3D; D + C\ (D≥C) $$ <strong>L为最小距离，D为检测错误的位数，C为纠正错误的位数。</strong></p>
<p>汉明码是具有一位纠错能力的编码，汉明码都采用了奇偶校验和分组校验（分组的奇偶校验，分组之间是有重叠的，校验位放在2 ^ k处，k&#x3D;0,1,2,3…）。</p>
<p>汉明码的分组，将代码中每一位进行分组（1,2,3,4,5,6,7序号），<strong>将每一位的序号进行分组，序号的二进制最右边一位为1的，第一组，右边第二位为1的，第二组……</strong></p>
<p>&#x3D;&#x3D;<strong>最后的校验结果，哪一位是1，那么这位对应的那组中的那个序号的代码位出错。如果出现了多个1，那么就是这几个组中公共的那位出错了。</strong>&#x3D;&#x3D;</p>
<h3 id="4-2-7-提高主存的访问以及存储速度"><a href="#4-2-7-提高主存的访问以及存储速度" class="headerlink" title="4.2.7 提高主存的访问以及存储速度"></a>4.2.7 提高主存的访问以及存储速度</h3><p>CPU速度提升很快，但是存储器的速度提升较慢。</p>
<p><strong>我们可以采用高速器件，采用层次结构（Cache-主存）,&#x3D;&#x3D;调整主存结构。&#x3D;&#x3D;</strong></p>
<ul>
<li>单体多字系统：使得存储器的存储字长大于CPU的字长（比如是CPU字长的4倍），这样一次读取就可以读取多个指令。<strong>但是这样会导致存储器结构复杂， 而且，如果需要执行的指令不是连续存放的，会更麻烦。</strong></li>
<li>多体并行方式：</li>
<li>高位交叉：对各个存储体进行编号，存储体内部自行编号，每个存储体独立，有自己的控制编号。这样CPU给出的地址是<strong>体号+体内地址</strong>，各个存储体可以并行处理。（类似存储器容量的扩展）如果程序指令存方式顺序的，实际上还是在一个存储体中，并无法提升存储体速度。</li>
<li>低位交叉：<strong>体内地址+体号</strong>，使用横向的编码，比如存储体为M0-M3，那么第一个地址为M0的第一个位置，第二个地址为M1的第一个位置……这样<strong>M0中所有地址后两位都为00，M1都为01，M2都为10，M3都为11。后两位给出了存储体的选择地址。</strong>这样如果程序指令顺序存放的地址，实际上是不同存储体并行处理，这样就提升了效率，流水操作。</li>
</ul>
<h3 id="4-3-高速缓冲存储器（Cache）"><a href="#4-3-高速缓冲存储器（Cache）" class="headerlink" title="4.3 高速缓冲存储器（Cache）"></a>4.3 高速缓冲存储器（Cache）</h3><h3 id="4-3-1-概述"><a href="#4-3-1-概述" class="headerlink" title="4.3.1 概述"></a>4.3.1 概述</h3><p>CPU与主存（DRAM）之间存在速度差异，为了避免CPU“空等”的现象，使用cache。</p>
<p><img src="https://pic4.zhimg.com/80/v2-353ef48785f13a861a6c7098e01cf40b_720w.jpg" alt="img"></p>
<p><strong>程序访问的局部性原理</strong>：</p>
<ul>
<li>时间的局部性：当前正在使用的指令或数据，会在不久的将来还会使用到，那么应该把这种数据或指令放在缓存中。</li>
<li>空间的局部性：当前正在使用的指令或数据，不久的将来，相邻的指令或数据会使用到，那么应该把当前和相邻的指令和数据放到缓存中。</li>
</ul>
<p>cache的工作原理：</p>
<p><strong>把主存和cache分成大小相等的块</strong>，每个块大小相等，主存的块数量远远大于cache的块数量。**&#x3D;&#x3D;主存与cache之间的信息传送是按块传送，块内地址不变，cache的每个块的标记，标记了这个块是主存的哪个块。&#x3D;&#x3D;**</p>
<p>主存块调入了缓存（即cache标记了），称为命中，CPU可直接在缓存中取得数据；如果没有调入，称为未命中。</p>
<p><img src="https://pic3.zhimg.com/80/v2-b389e6288a972d06339a6a02668b9b12_720w.jpg" alt="img"></p>
<p>我们希望，每次执行程序，都尽可能的在cache中提取数据，这样速度会很快。<strong>CPU欲访问的信息在Cache中的比率称为命中率，命中率与Cache的容量和块长有关。</strong>一般每块取4-8个字，一般为一个存取周期内从主存调出的信息长度。</p>
<p>cache与主存的访问效率：</p>
<p><strong>这里面平均访问时间为每次访问的平均时间</strong>（可能从cache，可能从主存）。</p>
<p><img src="https://pic4.zhimg.com/80/v2-483109d42dab83c244559504f862bf9b_720w.jpg" alt="img"></p>
<h3 id="4-3-2-cache的基本结构与读写操作"><a href="#4-3-2-cache的基本结构与读写操作" class="headerlink" title="4.3.2 cache的基本结构与读写操作"></a>4.3.2 cache的基本结构与读写操作</h3><p>cache的基本结构：</p>
<p><img src="https://pic1.zhimg.com/80/v2-01dc495db6a09ddf0022618f1bb88640_720w.jpg" alt="img"></p>
<p>读写操作：</p>
<p><img src="https://pic3.zhimg.com/80/v2-61c29bfc2dcc23820a116b253e1dfc4a_720w.jpg" alt="img"></p>
<p><img src="https://pic3.zhimg.com/80/v2-2e4806efb2c9888730795934df565fa6_720w.jpg" alt="img"></p>
<ul>
<li>前者时刻保持了cache和主存的一致，后者只写cache中，当cache中退出时才写回主存。</li>
</ul>
<p>cache的改进：</p>
<ul>
<li>增加cache的级数：片内cache，片外cache。</li>
<li>分立缓存：指令cache，数据cache。</li>
</ul>
<h3 id="4-3-3-cache-主存的地址映射"><a href="#4-3-3-cache-主存的地址映射" class="headerlink" title="4.3.3 cache-主存的地址映射"></a>4.3.3 cache-主存的地址映射</h3><p>即主存的任意一块加载到cache中的哪块。</p>
<p>直接映射：</p>
<p><strong>即主存中任意一个块，只能映射到指定的一个cache块中，</strong>cache块可以是一对多的。相当于将主存分区，每个区内的这些块，对应于cache的所有块；<strong>这样在cache的标记中，有t位的标记，表示当前该cache块存放的是主存哪个区的对应位置信息。</strong></p>
<p><img src="https://pic2.zhimg.com/80/v2-b4ae19aa355063f31023956d9df31399_720w.jpg" alt="img"></p>
<hr>
<p>这种方法cache块的利用率比较低，且可能会冲突。</p>
<p>全相联映射：</p>
<p><strong>主存中任意一个块，可以被放入cache中的任意一个块中。</strong></p>
<p><img src="https://pic1.zhimg.com/80/v2-cdf526e1135e3779f38c0f1d70867524_720w.jpg" alt="img"></p>
<p>这样的话，<strong>虽然块的利用率高了，但是因为块可以映射到任意一个位置，如果查询某个主存块是否已经放入cache，需要比较所有的cache标记，速度较慢。</strong></p>
<p>**&#x3D;&#x3D;组相联映射&#x3D;&#x3D;**：</p>
<p>与直接映射相似，**&#x3D;&#x3D;将cache分组，每个组可以有多个块；将主存分区，每个区的大小为cache的组数&#x3D;&#x3D;<strong>。这样每个区的第0块，可以放入cache第0组的任何一个位置，</strong>因为每个组有多个块，解决了直接映射的冲突问题；想查询某个主存的块是否放入了cache，只需要在对应的组进行查询即可，解决了全相联映射的问题。**</p>
<p><img src="https://pic2.zhimg.com/80/v2-8bf0c9b2d66ba574d6c7d8b0f39004d5_720w.jpg" alt="img"></p>
<p><img src="https://pic2.zhimg.com/80/v2-f97734f6f2adaff46b770237f2722735_720w.jpg" alt="img"></p>
<h3 id="4-3-4-替换算法"><a href="#4-3-4-替换算法" class="headerlink" title="4.3.4 替换算法"></a>4.3.4 替换算法</h3><p>如果内存块满了，如何替换，将谁弹出。</p>
<p><strong>先进先出（FIFO）算法</strong></p>
<p><strong>近期最少使用（LRU）算法</strong></p>
<h3 id="4-4-辅助存储器"><a href="#4-4-辅助存储器" class="headerlink" title="4.4 辅助存储器"></a>4.4 辅助存储器</h3><p>辅助存储器的主要作用是保存程序、文档和影音资料，<strong>不能直接与CPU交换信息，需要调入主存才能进行读写。</strong></p>
<p>包括磁盘存储器和光盘存储器等。</p>
<h2 id="5-输入输出系统"><a href="#5-输入输出系统" class="headerlink" title="5. 输入输出系统"></a>5. 输入输出系统</h2><h3 id="5-1-概述"><a href="#5-1-概述" class="headerlink" title="5.1 概述"></a>5.1 概述</h3><p><strong>发展概况：</strong></p>
<ul>
<li>早期CPU与I&#x2F;O设备串行工作，分散连接。使用程序查询方式连接。</li>
<li>后来使用总线连接（一条总线可以连接多个设备），出现了I&#x2F;O接口和DMA控制器，并行工作。</li>
<li>具有通道结构的阶段。</li>
<li>具有I&#x2F;O处理机的阶段（I&#x2F;O的独立性更强，使用I&#x2F;O处理器）。</li>
</ul>
<p><strong>I&#x2F;O系统的组成：</strong></p>
<ul>
<li><p>I&#x2F;O软件：</p>
</li>
<li><ul>
<li>CPU中的I&#x2F;O指令，来控制外部设备与主机协调工作，**格式为&#x3D;&#x3D;操作码+命令码+设备码&#x3D;&#x3D;**。</li>
<li>通道指令，通道自身的指令。</li>
</ul>
</li>
<li><p>I&#x2F;O硬件：</p>
</li>
<li><ul>
<li>设备以及I&#x2F;O接口，或者设备以及设备控制器，通道。</li>
</ul>
</li>
</ul>
<p><strong>I&#x2F;O设备与主机的联系方式：</strong></p>
<ul>
<li>对I&#x2F;O设备进行编址：<strong>统一编址（将I&#x2F;O地址放在内存的地址空间中，可以直接使用指令对外部设备进行存取数），不统一编址（需要使用专门的I&#x2F;O指令来调用设备）。</strong></li>
<li>设备选址：使用设备选择电路识别某个设备是否被选中。</li>
<li>数据传送方式：串行（一位一位传输）&#x2F;并行（多位同时传输）。</li>
</ul>
<p><strong>联络方式：</strong></p>
<ul>
<li>立即响应，接收到数据&#x2F;指令，直接响应。</li>
<li>异步工作，使用应答信号，可以并行也可以串行（I&#x2F;O设备与接口之间）</li>
</ul>
<p><img src="https://pic4.zhimg.com/80/v2-36018d99ff90a6a72e0d9566a3c2a933_720w.jpg" alt="img"></p>
<ul>
<li>同步工作，使用同步时标。</li>
</ul>
<p><strong>I&#x2F;O设备与主机的连接方式：</strong>分散连接（辐射式连接，每台设备都配有一套控制线路和信号线），总线连接。</p>
<p><strong>I&#x2F;O设备与主机信息传送的控制方式：</strong></p>
<ul>
<li>程序查询方式（CPU与I&#x2F;O串行工作，<strong>CPU需要等待，效率很低</strong>，CPU连接I&#x2F;O设备和内存）</li>
<li>程序中断方式（部分并行，<strong>CPU被一定程度解放，在IO设备自身准备的时候，CPU可以先进行自己的工作，当IO与主机进行信息交换的时候，CPU暂停自身程序，来参与信息交换</strong>）。</li>
<li>DMA方式（使外部设备与内存建立连接，解放cpu，**主存与IO之间有一条直接数据通道，通过DMA控制器可以直接进行数据交换，&#x3D;&#x3D;采用周期窃取，借用一个存取周期，使得DMA控制总线，完成数据在IO和主存之间的传送&#x3D;&#x3D;**，在这个周期中，CPU不能控制总线，但可以继续执行不需要访存的指令）。</li>
</ul>
<p><img src="https://pic1.zhimg.com/80/v2-c8814fbc3f16c95db1e05626741ba498_720w.jpg" alt="img"></p>
<h3 id="5-2-外部设备"><a href="#5-2-外部设备" class="headerlink" title="5.2 外部设备"></a>5.2 外部设备</h3><ul>
<li>输入设备：键盘、鼠标、触摸屏</li>
<li>输出设备：显示器、打印机</li>
<li>其他：A&#x2F;D,D&#x2F;A转换器，终端，汉字处理</li>
<li>多媒体技术：VR等</li>
</ul>
<h3 id="5-3-I-x2F-O接口"><a href="#5-3-I-x2F-O接口" class="headerlink" title="5.3 I&#x2F;O接口"></a>5.3 I&#x2F;O接口</h3><h3 id="5-3-1-概述"><a href="#5-3-1-概述" class="headerlink" title="5.3.1 概述"></a>5.3.1 概述</h3><p>为什么要设置接口：</p>
<ul>
<li>实现设备的选择</li>
<li>实现数据缓冲，达到速度匹配</li>
<li>实现数据串&#x2F;并格式转换</li>
<li>实现电平转换（主机和IO设备工作电平可能不一致）</li>
<li>传送控制命令</li>
<li>反映设备的状态（忙、就绪、中断请求）</li>
</ul>
<h3 id="5-3-2-接口的功能和组成"><a href="#5-3-2-接口的功能和组成" class="headerlink" title="5.3.2 接口的功能和组成"></a>5.3.2 接口的功能和组成</h3><p>主机通过IO总线与IO设备相连接。</p>
<p><img src="https://pic1.zhimg.com/80/v2-234b9a9141dabb3978007f891e1a90c8_720w.jpg" alt="img"></p>
<p><img src="https://pic3.zhimg.com/80/v2-049a5f99304a3a6a6fa3e540ebd7859e_720w.jpg" alt="img"></p>
<p><img src="https://pic2.zhimg.com/80/v2-50f0d2effcdf192b2efa20964052a8a9_720w.jpg" alt="img"></p>
<p>五大部分：<strong>数据缓冲寄存器、设备状态标记、控制逻辑电路、设备选择电路、命令寄存器和命令译码器。</strong></p>
<h3 id="5-3-3-接口类型"><a href="#5-3-3-接口类型" class="headerlink" title="5.3.3 接口类型"></a>5.3.3 接口类型</h3><ul>
<li>按照数据传送方式：串行&#x2F;并行</li>
<li>按照功能选择的灵活性：可编程接口&#x2F;不可编程接口</li>
<li>按通用性：通用接口&#x2F;专用接口</li>
<li>按数据传送的控制方式：中断接口&#x2F;DMA接口</li>
</ul>
<h3 id="5-4-程序查询方式"><a href="#5-4-程序查询方式" class="headerlink" title="5.4 程序查询方式"></a>5.4 程序查询方式</h3><p><img src="https://pic2.zhimg.com/80/v2-a3845c55270c15d3d1c93bda1307cfa1_720w.jpg" alt="img"></p>
<p><strong>程序查询方式的接口电路：</strong></p>
<p><img src="https://pic2.zhimg.com/80/v2-02069a45157ce0961a13a2c881601ec9_720w.jpg" alt="img"></p>
<ul>
<li>当D等于1的时候，IO完成了送入数据到DBR，<strong>此时CPU通过数据线读入数据，在D等于1之前，CPU一直在原地踏步等待。</strong></li>
</ul>
<h3 id="5-5-程序中断方式"><a href="#5-5-程序中断方式" class="headerlink" title="5.5 程序中断方式"></a>5.5 程序中断方式</h3><h3 id="5-5-1-中断的概念"><a href="#5-5-1-中断的概念" class="headerlink" title="5.5.1 中断的概念"></a>5.5.1 中断的概念</h3><p>CPU在执行程序的时候，<strong>遇到特殊事件或异常事件，暂停原来的程序，去处理这个事件（执行中断服务程序），之后再继续执行原来的程序。</strong></p>
<p><img src="https://pic3.zhimg.com/80/v2-ed5ead354e598f429c5d2fbb5fc5c16e_720w.jpg" alt="img"></p>
<h3 id="5-5-2-I-x2F-O中断的产生"><a href="#5-5-2-I-x2F-O中断的产生" class="headerlink" title="5.5.2 I&#x2F;O中断的产生"></a>5.5.2 I&#x2F;O中断的产生</h3><p><img src="https://pic3.zhimg.com/80/v2-21b5873456d87e7ba9dc462989f79262_720w.jpg" alt="img"></p>
<h3 id="5-5-3-程序中断方式的接口电路"><a href="#5-5-3-程序中断方式的接口电路" class="headerlink" title="5.5.3 程序中断方式的接口电路"></a>5.5.3 程序中断方式的接口电路</h3><ul>
<li>配置中断请求触发器和中断屏蔽触发器（如果目前执行的程序比请求的设备优先级高，则屏蔽该中断请求）</li>
<li>排队器（有多个中断的话，需要使用排队器，根据优先级进行排队）</li>
<li>中断向量地址形成部件（形成中断服务程序的入口地址）</li>
</ul>
<p><strong>配置中断请求触发器和中断屏蔽触发器：</strong></p>
<p><img src="https://pic1.zhimg.com/80/v2-c24a7e7bd53d7dfa4240dab976d1659c_720w.jpg" alt="img"></p>
<p><strong>排队器：</strong></p>
<p>排队器可以使用硬件电路来实现（在CPU内或接口电路中），也可以在软件中实现。</p>
<p>链式排队器，<strong>输出只有一位是高电平，其他都是低电平，高电平表示此时最高优先级的中断。</strong></p>
<p><img src="https://pic1.zhimg.com/80/v2-ab622ca1a033ab52bc812bee17af7638_720w.jpg" alt="img"></p>
<p><strong>中断向量地址形成部件：</strong></p>
<p>找到中断服务程序的入口地址，同样可以使用软件或硬件方法（硬件向量法）。</p>
<p><strong>硬件向量法由硬件产生向量地址，再由向量地址找到入口地址。</strong></p>
<p>中断向量地址形成部件的<strong>输入为排队器的输出</strong>（只有一位是高电平，其他都是低电平），&#x3D;&#x3D;<strong>输出为该种中断的向量地址，再通过向量地址，找到该种中断的中断服务程序的入口地址。</strong>&#x3D;&#x3D;</p>
<p><img src="https://pic3.zhimg.com/80/v2-882c410475b3f0119b6ca28550ef0942_720w.jpg" alt="img"></p>
<h3 id="5-5-4-I-x2F-O中断处理过程"><a href="#5-5-4-I-x2F-O中断处理过程" class="headerlink" title="5.5.4 I&#x2F;O中断处理过程"></a>5.5.4 I&#x2F;O中断处理过程</h3><p><img src="https://pic2.zhimg.com/80/v2-6e0573d5842b488b3b4832ca6fb445d9_720w.jpg" alt="img"></p>
<p><img src="https://pic2.zhimg.com/80/v2-7d7ab148498ac3048a68e578f0fadf3d_720w.jpg" alt="img"></p>
<h3 id="5-5-5-中断服务程序流程"><a href="#5-5-5-中断服务程序流程" class="headerlink" title="5.5.5 中断服务程序流程"></a>5.5.5 中断服务程序流程</h3><p><img src="https://pic2.zhimg.com/80/v2-2d97e87947354b4eaa9dd08b23b70701_720w.jpg" alt="img"></p>
<p><img src="https://pic1.zhimg.com/80/v2-f3f3d63c25f2077e0fc31053ce2c19f4_720w.jpg" alt="img"></p>
<p><img src="https://pic2.zhimg.com/80/v2-c64231e9418cf7eb85a2ba6e2d7ec135_720w.jpg" alt="img"></p>
<h3 id="5-6-DMA（直接存储器访问）方式"><a href="#5-6-DMA（直接存储器访问）方式" class="headerlink" title="5.6 DMA（直接存储器访问）方式"></a>5.6 DMA（直接存储器访问）方式</h3><h3 id="5-6-1-DMA方式的特点"><a href="#5-6-1-DMA方式的特点" class="headerlink" title="5.6.1 DMA方式的特点"></a>5.6.1 DMA方式的特点</h3><p><img src="https://pic4.zhimg.com/80/v2-9227e4cde1f4b33b4f38d010019fad73_720w.jpg" alt="img"></p>
<p>程序中断方式必须使用CPU来作为缓冲（即使是主存和IO之间进行信息交换）。</p>
<p>DMA方式，不需要CPU作为缓冲。</p>
<p><img src="https://pic2.zhimg.com/80/v2-f6741cf48a31210b6e257e0b9a9b84b1_720w.jpg" alt="img"></p>
<p><img src="https://pic2.zhimg.com/80/v2-2f1017e17df182ab9429359649b47a79_720w.jpg" alt="img"></p>
<p><img src="https://pic2.zhimg.com/80/v2-832462276ad36e49d68737e7dc30df55_720w.jpg" alt="img"></p>
<ul>
<li>这种方法的实用性不强。</li>
</ul>
<h3 id="5-6-2-DMA接口的功能和组成"><a href="#5-6-2-DMA接口的功能和组成" class="headerlink" title="5.6.2 DMA接口的功能和组成"></a>5.6.2 DMA接口的功能和组成</h3><p><img src="https://pic1.zhimg.com/80/v2-e848ed9bf4bb8e6ae13579260d54a240_720w.jpg" alt="img"></p>
<p><img src="https://pic4.zhimg.com/80/v2-32ddddbf1c7cb853cb6cb3fcb9ff032b_720w.jpg" alt="img"></p>
<ul>
<li>AR：地址寄存器，WC：计数器，对传输数据量计数。</li>
<li>BR：数据缓冲器，DAR：设备地址寄存器，供设备选择电路使用；对于硬盘等设备，可以保存扇区号等。</li>
<li>DMA控制逻辑：完成与设备之间的请求回答，与总线的请求回答。</li>
<li>中断机构：传输结束之后的后续处理。</li>
</ul>
<h3 id="5-6-3-DMA的工作过程"><a href="#5-6-3-DMA的工作过程" class="headerlink" title="5.6.3 DMA的工作过程"></a>5.6.3 DMA的工作过程</h3><p><strong>DMA的传送过程</strong>：<strong>预处理、数据传送、后处理。</strong></p>
<p><img src="https://pic4.zhimg.com/80/v2-742b30c0695d121fe5cb564d17b8736f_720w.jpg" alt="img"></p>
<p><img src="https://pic3.zhimg.com/80/v2-1a1e25ed9572b59ef4b628189823800e_720w.jpg" alt="img"></p>
<p><img src="https://pic1.zhimg.com/80/v2-54fc05c234015ac602e81a08fff0ae20_720w.jpg" alt="img"></p>
<p><img src="https://pic1.zhimg.com/80/v2-cc3a9d2c01fe5198070dcc7196ec725c_720w.jpg" alt="img"></p>
<p><strong>DMA接口与系统的连接方式：</strong></p>
<p><img src="https://pic2.zhimg.com/80/v2-161ece29eeada9301c4280a7313e2795_720w.jpg" alt="img"></p>
<ul>
<li>多个DMA接口连在一起，共享一条请求线。各DMA同样有优先级顺序。</li>
</ul>
<p><img src="https://pic3.zhimg.com/80/v2-b9b57b9ea08c8ba41c3934c190e477d6_720w.jpg" alt="img"></p>
<p><img src="https://pic1.zhimg.com/80/v2-38326dc785a0b2e2c4b395966cf8138c_720w.jpg" alt="img"></p>
<h3 id="5-6-4-DMA接口的类型"><a href="#5-6-4-DMA接口的类型" class="headerlink" title="5.6.4 DMA接口的类型"></a>5.6.4 DMA接口的类型</h3><p><img src="https://pic4.zhimg.com/80/v2-8e8b0eb2842291a42685d4ee48324b3f_720w.jpg" alt="img"></p>
<ul>
<li>一个接口连了多个设备，但是每次只能与一个设备使用。</li>
</ul>
<p><img src="https://pic3.zhimg.com/80/v2-45250bc057df82c94407bceb1c3f409e_720w.jpg" alt="img"></p>
<ul>
<li>每个通道有多个子通道，子通道可以并行使用。</li>
</ul>
<p><img src="https://pic2.zhimg.com/80/v2-250ecbfe831995cc07959343b504c23d_720w.jpg" alt="img"></p>
<h2 id="6-计算机的运算方法"><a href="#6-计算机的运算方法" class="headerlink" title="6. 计算机的运算方法"></a>6. 计算机的运算方法</h2><h3 id="6-1-无符号数和有符号数"><a href="#6-1-无符号数和有符号数" class="headerlink" title="6.1 无符号数和有符号数"></a>6.1 无符号数和有符号数</h3><h3 id="6-1-1-无符号数"><a href="#6-1-1-无符号数" class="headerlink" title="6.1.1 无符号数"></a>6.1.1 无符号数</h3><p>没有正负号的数据，<strong>寄存器的位数即为无符号数的表示范围。</strong></p>
<h3 id="6-1-2-有符号数"><a href="#6-1-2-有符号数" class="headerlink" title="6.1.2 有符号数"></a>6.1.2 有符号数</h3><p>分为符号部分和数值部分。</p>
<p>机器数<strong>保存符号、小数点位置以及数值</strong>。计算机中<strong>没有</strong>专门的硬件保存小数点，都是以约定的形式给出。</p>
<p><strong>原码表示法：</strong></p>
<p>整数：&#x3D;&#x3D;<strong>符号位+，+数值。符号位0为正，1为负。</strong>&#x3D;&#x3D;逗号将符号位和数值分隔开，数值其实是数的绝对值。</p>
<p>小数：&#x3D;&#x3D;<strong>符号位+.+小数部分，符号位0为正，1为负。</strong>&#x3D;&#x3D;小数点将符号位和小数部分分隔开。</p>
<p><strong>上面的逗号和小数点，都不需要在计算机中存储，这里是方便人来阅读。</strong></p>
<p>使用原码进行加法的时候，结果的符号可正可负，希望找到一个与负数等价的正数来替代这个负数，这样就可以使得减法变成加法，即补码表示法。</p>
<p><strong>补码表示法：</strong></p>
<p>整数：<strong>正数的补码与原码一致，负数的补码为它的原码，除符号位以外，各位取反，最后加1。</strong></p>
<p>小数：<strong>正数的补码与原码一致，负数的补码为它的原码，除符号位以外，各位取反，最后加1。</strong></p>
<p><strong>反码表示法：</strong></p>
<p>正数的反码就是原码，负数的反码，将原码除符号位外，所有位取反。</p>
<p><img src="https://pic3.zhimg.com/80/v2-d897d8301ade757735da507c16e5cc5e_720w.jpg" alt="img"></p>
<p><strong>移码表示法（只有整数形式定义）：</strong></p>
<p>补码很难直接判断其真值大小。</p>
<p><img src="https://pic3.zhimg.com/80/v2-6a3cdf6050e60506e92dd16a157e2b6e_720w.jpg" alt="img"></p>
<p><img src="https://pic3.zhimg.com/80/v2-2d9837b1a6bedaf32be3f0fb589de95a_720w.jpg" alt="img"></p>
<p><img src="https://pic2.zhimg.com/80/v2-394d544564c5217eee08b41b26e4f029_720w.jpg" alt="img"></p>
<p><img src="https://pic2.zhimg.com/80/v2-ed12f9fda7ee5912620a894f5a2193e1_720w.jpg" alt="img"></p>
<h3 id="6-2-数的定点表示和浮点表示"><a href="#6-2-数的定点表示和浮点表示" class="headerlink" title="6.2 数的定点表示和浮点表示"></a>6.2 数的定点表示和浮点表示</h3><h3 id="6-2-1-定点表示"><a href="#6-2-1-定点表示" class="headerlink" title="6.2.1 定点表示"></a>6.2.1 定点表示</h3><p>小数点按照约定方式标出，没有硬件完成小数点，根据设计人员的约定来进行表示。</p>
<p>小数点可放在数符和数值之间（小数定点机），或数值之后（整数定点机）。</p>
<p><img src="https://pic4.zhimg.com/80/v2-6e8acba8b8fc1dded67e97f753ec5977_720w.jpg" alt="img"></p>
<h3 id="6-2-2-浮点表示"><a href="#6-2-2-浮点表示" class="headerlink" title="6.2.2 浮点表示"></a>6.2.2 浮点表示</h3><p>定点表示的数，表示范围小，为了表示两个大小相差很大的数据，需要很长的机器字长。数据存储单元的利用率很低。</p>
<p>浮点数的一般形式 $$ N &#x3D; S×r^j $$ S为尾数，j为阶码，r为尾数的基值，计算机中r通常取2,4,8,16。<strong>在计算机中，S为小数，可正可负；j为整数，可正可负。</strong></p>
<p><img src="https://pic3.zhimg.com/80/v2-2009b694f8408aa43ffad17e1cc32506_720w.jpg" alt="img"></p>
<p><img src="https://pic1.zhimg.com/80/v2-ec6810b1fcde4b5b448e56e5c7fd1394_720w.jpg" alt="img"></p>
<p>对浮点数进行规格化，是为了尽可能保证数据的精度，让有效的位数尽可能多。</p>
<p><img src="https://pic3.zhimg.com/80/v2-14d223a976be94b4544f5c9194fcce7e_720w.jpg" alt="img"></p>
<p><img src="https://pic2.zhimg.com/80/v2-6bc74400fdf3408fc608f1abe72d9ead_720w.jpg" alt="img"></p>
<h3 id="6-3-定点运算"><a href="#6-3-定点运算" class="headerlink" title="6.3 定点运算"></a>6.3 定点运算</h3><h3 id="6-3-1-移位运算"><a href="#6-3-1-移位运算" class="headerlink" title="6.3.1 移位运算"></a>6.3.1 移位运算</h3><p>数据相对于小数点进行左移&#x2F;右移（小数点不动）。左移，绝对值扩大，右移，绝对值缩小。移位与加减法配合，能够实现乘除法运算。</p>
<p><img src="https://pic3.zhimg.com/80/v2-99ed7169acfb00d5d23a71ef346ee12a_720w.jpg" alt="img"></p>
<ul>
<li>注意，&#x3D;&#x3D;符号位保持不变&#x3D;&#x3D;。</li>
</ul>
<p><strong>算数移位的硬件实现：</strong></p>
<p>即，左移，最高位扔掉，其他位左移，末尾补0&#x2F;1。</p>
<p>右移，最低位扔掉，其他位右移，高位补0&#x2F;1。</p>
<p><img src="https://pic1.zhimg.com/80/v2-653e755f9801caab4583a36a8cbda674_720w.jpg" alt="img"></p>
<p><img src="https://pic2.zhimg.com/80/v2-cd77d50aaada2fb7146cbd52dd0a86b5_720w.jpg" alt="img"></p>
<h3 id="6-3-2-加减法运算"><a href="#6-3-2-加减法运算" class="headerlink" title="6.3.2 加减法运算"></a>6.3.2 加减法运算</h3><p>主要是使用补码进行加减法运算，因为可以将减法变为加法。</p>
<p><img src="https://pic3.zhimg.com/80/v2-e65743521c23abe2e32f8ee8393a25a2_720w.jpg" alt="img"></p>
<p>还需要判断处理溢出。</p>
<p><img src="https://pic1.zhimg.com/80/v2-33b395859242666145fd1b1c5b1776b0_720w.jpg" alt="img"></p>
<p><strong>两个同符号的数，数值运算产生了进位，进位到了符号位，改变了符号位，则就出现了溢出。</strong></p>
<p><img src="https://pic1.zhimg.com/80/v2-9d5763771e2521ef64139e69067539a0_720w.jpg" alt="img"></p>
<p><img src="https://pic1.zhimg.com/80/v2-0467e3da10cb7cd7d759085ed9d5416c_720w.jpg" alt="img"></p>
<p>核心是n+1位加法器，两个寄存器保存参与计算的数据。  </p>
<h3 id="6-3-3-乘法运算"><a href="#6-3-3-乘法运算" class="headerlink" title="6.3.3 乘法运算"></a>6.3.3 乘法运算</h3><p>模拟笔算乘法的过程，符号位进行单独处理（异或电路），可以将乘数放到移位寄存器中。</p>
<p><img src="https://pic4.zhimg.com/80/v2-22a4364f5174c4d7d78c48d996089be3_720w.jpg" alt="img"></p>
<p><img src="https://pic4.zhimg.com/80/v2-2d665149b1a2f1f24edb23c4ef0daa57_720w.jpg" alt="img"></p>
<ul>
<li>n是参加运算的数的数值部分长度。</li>
</ul>
<p><img src="https://pic2.zhimg.com/80/v2-2d74e4b2493b2bf1a6460478cc49fb29_720w.jpg" alt="img"></p>
<p><img src="https://pic1.zhimg.com/80/v2-9a6df8722fd24f77d5679af7c1079364_720w.jpg" alt="img"></p>
<p><img src="https://pic2.zhimg.com/80/v2-4bf21278b48c18784327f09da3c47165_720w.jpg" alt="img"></p>
<h3 id="6-3-4-除法运算"><a href="#6-3-4-除法运算" class="headerlink" title="6.3.4 除法运算"></a>6.3.4 除法运算</h3><p>二进制的除法比十进制简单得多，商只会上0&#x2F;1。</p>
<p><img src="https://pic4.zhimg.com/80/v2-8621ac43a4e2b546e48fed304433010b_720w.jpg" alt="img"></p>
<p><img src="https://pic2.zhimg.com/80/v2-7a5e8396ed8594c5f5002c25f015f2bd_720w.jpg" alt="img"></p>
<ul>
<li>小数除法，小数都是小于1的，因此默认被除数小于除数，这样结果还是小于1的。</li>
</ul>
<p>恢复余数法：余数为正，上商1；余数为负，上商0，恢复余数。</p>
<p>不恢复余数法（加减交替法）</p>
<p><img src="https://pic3.zhimg.com/80/v2-111286030a80c2c5d3cf0569934d52be_720w.jpg" alt="img"></p>
<p><img src="https://pic3.zhimg.com/80/v2-6e6b4b38431bbb932c680ea7ae1a3f66_720w.jpg" alt="img"></p>
<h3 id="6-4-浮点四则运算"><a href="#6-4-浮点四则运算" class="headerlink" title="6.4 浮点四则运算"></a>6.4 浮点四则运算</h3><p>浮点数的加减运算：</p>
<p><img src="https://pic2.zhimg.com/80/v2-35da1e201bf44b2d582f91694d84e905_720w.jpg" alt="img"></p>
<p><img src="https://pic3.zhimg.com/80/v2-d421ec2c547508394693892c9839ea02_720w.jpg" alt="img"></p>
<p><img src="https://pic2.zhimg.com/80/v2-bc1bffdde6824ccc16625e8b5866fb15_720w.jpg" alt="img"></p>
<p><img src="https://pic1.zhimg.com/80/v2-616d0f28ff6f144b64461d550df77240_720w.jpg" alt="img"></p>
<h3 id="6-5-算术逻辑单元（ALU）"><a href="#6-5-算术逻辑单元（ALU）" class="headerlink" title="6.5 算术逻辑单元（ALU）"></a>6.5 算术逻辑单元（ALU）</h3><h3 id="6-5-1-ALU电路"><a href="#6-5-1-ALU电路" class="headerlink" title="6.5.1 ALU电路"></a>6.5.1 ALU电路</h3><p><img src="https://pic4.zhimg.com/80/v2-0bad4e319a1da81cc6a670bfdb479903_720w.jpg" alt="img"></p>
<p>Ai和Bi两个输入，进行计算的两个数值，F为输出结果，K控制进行什么计算。</p>
<h3 id="6-5-2-快速进位链"><a href="#6-5-2-快速进位链" class="headerlink" title="6.5.2 快速进位链"></a>6.5.2 快速进位链</h3><p><img src="https://pic4.zhimg.com/80/v2-ce99c34604d325ca6e0ac2ab24f81a1b_720w.jpg" alt="img"></p>
<ul>
<li>C为进位，需要等低位的计算完之后，才能进行这一位的计算，因此需要更快的进位。</li>
</ul>
<p><img src="https://pic2.zhimg.com/80/v2-b88b52250375a02d1753fba8a94700b5_720w.jpg" alt="img"></p>
<ul>
<li>进位链是影响加法速度的瓶颈</li>
</ul>
<p><img src="https://pic4.zhimg.com/80/v2-8346609c9d5f78ac5f05b0bf8b041f87_720w.jpg" alt="img"></p>
<p><img src="https://pic1.zhimg.com/80/v2-cec52432cf0f836a068aa8613ca01b54_720w.jpg" alt="img"></p>
<p><img src="https://pic4.zhimg.com/80/v2-4e16fbfa2525a9e894876b0a8bb5ec07_720w.jpg" alt="img"></p>
<p><img src="https://pic1.zhimg.com/80/v2-8f5d21ebfa2b0f3c83045122ccfa4828_720w.jpg" alt="img"></p>
<p><img src="https://pic4.zhimg.com/80/v2-7ac74dc29c0ecbb5871fe7a90cd741b7_720w.jpg" alt="img"></p>
<p><img src="https://pic1.zhimg.com/80/v2-30b1db9095be53de9df3a66f1f11271c_720w.jpg" alt="img"></p>
<p><img src="https://pic2.zhimg.com/80/v2-b4dbabc10878c88e8be6b5e84aa4c3f5_720w.jpg" alt="img"></p>
<p><img src="https://pic4.zhimg.com/80/v2-c67441181c3e0442c0966d8315862aa7_720w.jpg" alt="img"></p>
<h2 id="7-指令系统"><a href="#7-指令系统" class="headerlink" title="7. 指令系统"></a>7. 指令系统</h2><p>指令系统是计算机软硬件的交汇面。</p>
<h3 id="7-1-机器指令"><a href="#7-1-机器指令" class="headerlink" title="7.1 机器指令"></a>7.1 机器指令</h3><h3 id="7-1-1-指令的一般格式"><a href="#7-1-1-指令的一般格式" class="headerlink" title="7.1.1 指令的一般格式"></a>7.1.1 指令的一般格式</h3><p><img src="https://pic1.zhimg.com/80/v2-98a6b474fc548fba56b432a5389d10a0_720w.jpg" alt="img"></p>
<p><img src="https://pic2.zhimg.com/80/v2-1a356f0b44baf334e727b419899d927d_720w.jpg" alt="img"></p>
<p><img src="https://pic4.zhimg.com/80/v2-1350227e0717ed0bef5146fa366b56db_720w.jpg" alt="img"></p>
<p><img src="https://pic4.zhimg.com/80/v2-8fd5bc6e4948cec19da7b918cc9eedef_720w.jpg" alt="img"></p>
<h3 id="7-1-2-指令字长"><a href="#7-1-2-指令字长" class="headerlink" title="7.1.2 指令字长"></a>7.1.2 指令字长</h3><p>指令的字长取决于：操作码的长度，操作数地址的长度，操作数地址的个数。</p>
<p>指令字长可以是固定的（指令字长&#x3D;存储字长），也可以是可变的，按照字节的倍数进行变化。</p>
<p><img src="https://pic3.zhimg.com/80/v2-3dd663a9f1cd87d5a5bf0855dc1310a2_720w.jpg" alt="img"></p>
<h3 id="7-2-操作数类型和操作种类"><a href="#7-2-操作数类型和操作种类" class="headerlink" title="7.2 操作数类型和操作种类"></a>7.2 操作数类型和操作种类</h3><h3 id="7-2-1-操作数类型"><a href="#7-2-1-操作数类型" class="headerlink" title="7.2.1 操作数类型"></a>7.2.1 操作数类型</h3><ul>
<li>地址：无符号整数（绝对地址），有符号数（相对地址）</li>
<li>数字：定点数、浮点数、十进制数</li>
<li>字符：ASCII</li>
<li>逻辑数：逻辑运算</li>
</ul>
<h3 id="7-2-2-数据在存储器中的存放方式"><a href="#7-2-2-数据在存储器中的存放方式" class="headerlink" title="7.2.2 数据在存储器中的存放方式"></a>7.2.2 数据在存储器中的存放方式</h3><p><img src="https://pic3.zhimg.com/80/v2-c8b0cf805c761ac8cfd3a49e5bd82d92_720w.jpg" alt="img"></p>
<p>字节编址：</p>
<p><img src="https://pic3.zhimg.com/80/v2-258c0ae86a0cf5dced8ff61f21ebcace_720w.jpg" alt="img"></p>
<p><img src="https://pic2.zhimg.com/80/v2-911639d4ea60b7941bf4ff489bae0479_720w.jpg" alt="img"></p>
<p><img src="https://pic3.zhimg.com/80/v2-79758c0730be6c72e2448c820211e89e_720w.jpg" alt="img"></p>
<h3 id="7-2-3-操作类型"><a href="#7-2-3-操作类型" class="headerlink" title="7.2.3 操作类型"></a>7.2.3 操作类型</h3><p><img src="https://pic3.zhimg.com/80/v2-e80d2179db474bd214ab55d85b6081aa_720w.jpg" alt="img"></p>
<p><img src="https://pic4.zhimg.com/80/v2-60331452311ef076ab8f69b884c199d3_720w.jpg" alt="img"></p>
<p><img src="https://pic1.zhimg.com/80/v2-62ca2b1d52b8951bf9d334c65737be64_720w.jpg" alt="img"></p>
<p><img src="https://pic2.zhimg.com/80/v2-3b36fb82b72d8e520b6d826dc1f46ad9_720w.jpg" alt="img"></p>
<h3 id="7-3-寻址方式"><a href="#7-3-寻址方式" class="headerlink" title="7.3 寻址方式"></a>7.3 寻址方式</h3><p>确定本条指令的操作数地址，或下一条指令的指令地址。</p>
<p>可分为指令的寻址和数据寻址</p>
<h3 id="7-3-1-指令寻址"><a href="#7-3-1-指令寻址" class="headerlink" title="7.3.1 指令寻址"></a>7.3.1 指令寻址</h3><p>顺序寻址&#x2F;跳跃寻址。</p>
<p>pc程序计数器。</p>
<p><img src="https://pic2.zhimg.com/80/v2-c0c57fba32931971dfa3acc8c60fbbb5_720w.jpg" alt="img"></p>
<h3 id="7-3-2-数据寻址"><a href="#7-3-2-数据寻址" class="headerlink" title="7.3.2 数据寻址"></a>7.3.2 数据寻址</h3><p><img src="https://pic3.zhimg.com/80/v2-54356fae3d68588119f0215e70b3306e_720w.jpg" alt="img"></p>
<p><img src="https://pic4.zhimg.com/80/v2-57878ba3ec2d0e02530ee8b41a8c2bd7_720w.jpg" alt="img"></p>
<p><img src="https://pic2.zhimg.com/80/v2-dea762b7cbe150b8d1a291c10e788a69_720w.jpg" alt="img"></p>
<p><img src="https://pic1.zhimg.com/80/v2-fe04753ed352f51476c52422044327f4_720w.jpg" alt="img"></p>
<ul>
<li>操作数的有效地址保存在另一个位置，再去这个位置找到有效地址EA，访存两次。</li>
</ul>
<p><img src="https://pic3.zhimg.com/80/v2-9cf702816cd97ee18002f54bbc658ff2_720w.jpg" alt="img"></p>
<p><img src="https://pic3.zhimg.com/80/v2-fc3d5c688eeac38569482de915cac3aa_720w.jpg" alt="img"></p>
<p><img src="https://pic1.zhimg.com/80/v2-cdcaae570fc9396a3e379c3cb1866ba8_720w.jpg" alt="img"></p>
<ul>
<li>BR是基址，A相当于偏移量，形式地址。</li>
</ul>
<p><img src="https://pic2.zhimg.com/80/v2-82486c9a347dcb7f4c7d4fc5c5a90169_720w.jpg" alt="img"></p>
<p><img src="https://pic3.zhimg.com/80/v2-4445ed987460133a438626a3b6ecd4be_720w.jpg" alt="img"></p>
<p><img src="https://pic2.zhimg.com/80/v2-6ea74f28c9b588e400dc13e75f97f349_720w.jpg" alt="img"></p>
<ul>
<li>相对于当前PC值。</li>
</ul>
<p><img src="https://pic1.zhimg.com/80/v2-495c7c8224b8abb4eab61310bcde6d44_720w.jpg" alt="img"></p>
<h3 id="7-4-指令格式举例"><a href="#7-4-指令格式举例" class="headerlink" title="7.4 指令格式举例"></a>7.4 指令格式举例</h3><p><img src="https://pic3.zhimg.com/80/v2-7f557e8b2a25dafbeec9ccef53a9de02_720w.jpg" alt="img"></p>
<p><img src="https://pic1.zhimg.com/80/v2-352cd052c7d2762782e62da5affa44c4_720w.jpg" alt="img"></p>
<h3 id="7-5-RISC（精简指令集计算机）技术"><a href="#7-5-RISC（精简指令集计算机）技术" class="headerlink" title="7.5 RISC（精简指令集计算机）技术"></a>7.5 RISC（精简指令集计算机）技术</h3><p><img src="https://pic1.zhimg.com/80/v2-4a2e7799e675ef547d04a89bf7504ac8_720w.jpg" alt="img"></p>
<p><img src="https://pic2.zhimg.com/80/v2-5b0294e195a58d9df758b0db7bd35451_720w.jpg" alt="img"></p>
<p><img src="https://pic4.zhimg.com/80/v2-cbb90ab791b3c9c93805cd2317238377_720w.jpg" alt="img"></p>
<p><img src="https://pic2.zhimg.com/80/v2-c1a931e604616c339419883553d2e0f9_720w.jpg" alt="img"></p>
<h2 id="8-CPU的结构与功能"><a href="#8-CPU的结构与功能" class="headerlink" title="8. CPU的结构与功能"></a>8. CPU的结构与功能</h2><h3 id="8-1-CPU的结构"><a href="#8-1-CPU的结构" class="headerlink" title="8.1 CPU的结构"></a>8.1 CPU的结构</h3><h3 id="8-1-1-CPU的功能"><a href="#8-1-1-CPU的功能" class="headerlink" title="8.1.1 CPU的功能"></a>8.1.1 CPU的功能</h3><p><img src="https://pic4.zhimg.com/80/v2-c8d59c52ce03b8660c9e5294f610645b_720w.jpg" alt="img"></p>
<h3 id="8-1-2-CPU结构框图"><a href="#8-1-2-CPU结构框图" class="headerlink" title="8.1.2 CPU结构框图"></a>8.1.2 CPU结构框图</h3><p><img src="https://pic2.zhimg.com/80/v2-73181cfcc27e2207c1f8f222d8b67375_720w.jpg" alt="img"></p>
<ul>
<li>IR指令寄存器，PC程序计数器</li>
</ul>
<h3 id="8-1-3-CPU的寄存器"><a href="#8-1-3-CPU的寄存器" class="headerlink" title="8.1.3 CPU的寄存器"></a>8.1.3 CPU的寄存器</h3><p><img src="https://pic3.zhimg.com/80/v2-95cb86b429d0859197376e68df522c8e_720w.jpg" alt="img"></p>
<p><img src="https://pic1.zhimg.com/80/v2-f74c63b293116496b2bfc879cc9ae9b8_720w.jpg" alt="img"></p>
<h3 id="8-1-4-其他"><a href="#8-1-4-其他" class="headerlink" title="8.1.4 其他"></a>8.1.4 其他</h3><p>其他部分还包括CU（控制单元）、中断系统以及ALU。</p>
<p><strong>CU产生全部指令执行的时候的微操作命令序列，可使用组合逻辑设计或微程序设计。</strong></p>
<h3 id="8-2-指令周期"><a href="#8-2-指令周期" class="headerlink" title="8.2 指令周期"></a>8.2 指令周期</h3><h3 id="8-2-1-基本概念"><a href="#8-2-1-基本概念" class="headerlink" title="8.2.1 基本概念"></a>8.2.1 基本概念</h3><p><img src="https://pic1.zhimg.com/80/v2-b7d7e0c28a00121c7e79aaa71b931568_720w.jpg" alt="img"></p>
<p><img src="https://pic4.zhimg.com/80/v2-69f06b5dae753a813d73c9d73afb1667_720w.jpg" alt="img"></p>
<p><img src="https://pic4.zhimg.com/80/v2-4e068b10aded51c176b0f53166c95ac3_720w.jpg" alt="img"></p>
<p><img src="https://pic2.zhimg.com/80/v2-d632bdba372b27770d4f6954f95ddac1_720w.jpg" alt="img"></p>
<p><img src="https://pic1.zhimg.com/80/v2-9dd83563b97ad61a54969dace6e91ca0_720w.jpg" alt="img"></p>
<h3 id="8-2-2-指令周期的数据流"><a href="#8-2-2-指令周期的数据流" class="headerlink" title="8.2.2 指令周期的数据流"></a>8.2.2 指令周期的数据流</h3><p><img src="https://pic1.zhimg.com/80/v2-16bc0563fc33b007f63f2d9e63426f68_720w.jpg" alt="img"></p>
<p><img src="https://pic4.zhimg.com/80/v2-ffe1f1639490e88d147dca09c4c2de47_720w.jpg" alt="img"></p>
<p><img src="https://pic4.zhimg.com/80/v2-33dbaa90facba4a2495551882c24f90f_720w.jpg" alt="img"></p>
<h3 id="8-3-指令流水"><a href="#8-3-指令流水" class="headerlink" title="8.3 指令流水"></a>8.3 指令流水</h3><p><img src="https://pic2.zhimg.com/80/v2-9c16393a72d6dec738963ea01109597d_720w.jpg" alt="img"></p>
<p><img src="https://pic2.zhimg.com/80/v2-949473d8f05b3a4d70456e9d50928e99_720w.jpg" alt="img"></p>
<p><img src="https://pic1.zhimg.com/80/v2-2f10fa304075e6bc122a6e389b4b0684_720w.jpg" alt="img"></p>
<p><img src="https://pic2.zhimg.com/80/v2-cd39fea3beccf163fd0d6def48a60201_720w.jpg" alt="img"></p>
<p><img src="https://pic2.zhimg.com/80/v2-ad13acd1809dd1fad491f9714442f599_720w.jpg" alt="img"></p>
<p><img src="https://pic3.zhimg.com/80/v2-becee89f33a1e5ea3df31f3b9092e7ba_720w.jpg" alt="img"></p>
<p><img src="https://pic4.zhimg.com/80/v2-5ffd433f519357b941ad2d4210c62d33_720w.jpg" alt="img"></p>
<p><img src="https://pic4.zhimg.com/80/v2-893f271bc6c0a6feae3ea44895ce9f17_720w.jpg" alt="img"></p>
<p><img src="https://pic2.zhimg.com/80/v2-4c4c40a9d617570797b2f88cd8e8b525_720w.jpg" alt="img"></p>
<p><img src="https://pic1.zhimg.com/80/v2-bf6629730222b07b5e76f581d72526ec_720w.jpg" alt="img"></p>
<p><img src="https://pic3.zhimg.com/80/v2-8af1daee44b1b31895f74c3a6153d196_720w.jpg" alt="img"></p>
<p><img src="https://pic1.zhimg.com/80/v2-1748e609006890cae417637268e3dc98_720w.jpg" alt="img"></p>
<p><img src="https://pic4.zhimg.com/80/v2-a1973374365a3c82bca9e67894cdfda3_720w.jpg" alt="img"></p>
<p><img src="https://pic2.zhimg.com/80/v2-594cc4e23c8d23c851371b284ad6bc09_720w.jpg" alt="img"></p>
<p><img src="https://pic1.zhimg.com/80/v2-5d76326753b746899842a3ad471b5dec_720w.jpg" alt="img"></p>
<p><img src="https://pic4.zhimg.com/80/v2-086cb08b406587df59d147ad04ceca37_720w.jpg" alt="img"></p>
<p><img src="https://pic3.zhimg.com/80/v2-eb8c96a902a9ba0b4dc2909dc98b3dca_720w.jpg" alt="img"></p>
<h3 id="8-4-中断系统"><a href="#8-4-中断系统" class="headerlink" title="8.4 中断系统"></a>8.4 中断系统</h3><h3 id="8-4-1-概述"><a href="#8-4-1-概述" class="headerlink" title="8.4.1 概述"></a>8.4.1 概述</h3><p><img src="https://pic1.zhimg.com/80/v2-80d57c2b31ef27adc9ab7c679be9b0d8_720w.jpg" alt="img"></p>
<p><img src="https://pic1.zhimg.com/80/v2-250f0412c444ce2f9a891190dc20c3ec_720w.jpg" alt="img"></p>
<h3 id="8-4-2-中断请求标记和中断判优逻辑"><a href="#8-4-2-中断请求标记和中断判优逻辑" class="headerlink" title="8.4.2 中断请求标记和中断判优逻辑"></a>8.4.2 中断请求标记和中断判优逻辑</h3><p><img src="https://pic2.zhimg.com/80/v2-182ff5dc96c0788a2631a09787962ae9_720w.jpg" alt="img"></p>
<p><img src="https://pic3.zhimg.com/80/v2-9979d4fc77823677663af765135194de_720w.jpg" alt="img"></p>
<p><img src="https://pic3.zhimg.com/80/v2-d997cb8203c7b804b8515e26dba50ef2_720w.jpg" alt="img"></p>
<h3 id="8-4-3-中断服务程序入口地址查询"><a href="#8-4-3-中断服务程序入口地址查询" class="headerlink" title="8.4.3 中断服务程序入口地址查询"></a>8.4.3 中断服务程序入口地址查询</h3><p><img src="https://pic1.zhimg.com/80/v2-7e2503776d875f089d09543062b8608c_720w.jpg" alt="img"></p>
<p><img src="https://pic2.zhimg.com/80/v2-68e36f17805e16ac5e2e127e6344fa05_720w.jpg" alt="img"></p>
<h3 id="8-4-4-中断响应"><a href="#8-4-4-中断响应" class="headerlink" title="8.4.4 中断响应"></a>8.4.4 中断响应</h3><p><img src="https://pic2.zhimg.com/80/v2-cfab9df5aba6657f37b912518a762a11_720w.jpg" alt="img"></p>
<p><img src="https://pic4.zhimg.com/80/v2-63c5a6c2a3765c312d85c4a48cb57b53_720w.jpg" alt="img"></p>
<ul>
<li><p>中断隐指令不是实际的指令，而是硬件直接实现的。</p>
</li>
<li><h3 id="8-4-5-保护现场和恢复现场"><a href="#8-4-5-保护现场和恢复现场" class="headerlink" title="8.4.5 保护现场和恢复现场"></a>8.4.5 保护现场和恢复现场</h3><p><img src="https://pic3.zhimg.com/80/v2-c0e5720e9e3654d4fa42bd2fbdb9c43e_720w.jpg" alt="img"></p>
<h3 id="8-4-6-多重中断"><a href="#8-4-6-多重中断" class="headerlink" title="8.4.6 多重中断"></a>8.4.6 多重中断</h3><p><img src="https://pic3.zhimg.com/80/v2-882d0f7425bfc56051ccd580d83a3cde_720w.jpg" alt="img"></p>
<p><img src="https://pic4.zhimg.com/80/v2-68f647f033e41b0cf03994ba1841b91b_720w.jpg" alt="img"></p>
<p><img src="https://pic1.zhimg.com/80/v2-e0e4e703ba8ef0593e12564e45f67334_720w.jpg" alt="img"></p>
<ul>
<li>通过屏蔽触发器，设置中断屏蔽字，来调整中断的优先级（中断处理的优先级。不是响应的优先级）。</li>
</ul>
<p><img src="https://pic1.zhimg.com/80/v2-b3cc033a886f5ec6bbf5cd4a7f964404_720w.jpg" alt="img"></p>
<p><img src="https://pic2.zhimg.com/80/v2-4bc3e67c760a0096729e35c1178c30ad_720w.jpg" alt="img"></p>
<p><img src="https://pic2.zhimg.com/80/v2-2030b13c2f5eae15eb67b615b41e4fc1_720w.jpg" alt="img"></p>
<p><img src="https://pic4.zhimg.com/80/v2-10fe213183c5b3f71d10eb25d793dbd7_720w.jpg" alt="img"></p>
<h2 id="9-控制单元的功能"><a href="#9-控制单元的功能" class="headerlink" title="9. 控制单元的功能"></a>9. 控制单元的功能</h2><h3 id="9-1-微操作命令的分析"><a href="#9-1-微操作命令的分析" class="headerlink" title="9.1 微操作命令的分析"></a>9.1 微操作命令的分析</h3><p>完成一条指令分为四个周期：<strong>取指周期、间址周期、执行周期、中断周期。</strong></p>
<p><img src="https://pic4.zhimg.com/80/v2-cbb164e1850bc8f37d5498ec2fe0afcf_720w.jpg" alt="img"></p>
<p><img src="https://pic4.zhimg.com/80/v2-75272039372621007a4554e02dbfb467_720w.jpg" alt="img"></p>
<p><img src="https://pic3.zhimg.com/80/v2-4c6567a97b236e05174123a140221ee6_720w.jpg" alt="img"></p>
<p><img src="https://pic4.zhimg.com/80/v2-b772034c369be1600ba3080f27fadaa3_720w.jpg" alt="img"></p>
<p><img src="https://pic1.zhimg.com/80/v2-c4faa85fec57c43725466face1829180_720w.jpg" alt="img"></p>
<p><img src="https://pic2.zhimg.com/80/v2-31cb07c191bcdc5cd668166c4787ad61_720w.jpg" alt="img"></p>
<p><img src="https://pic4.zhimg.com/80/v2-e3f0d0f1ec7a9c3563c31f2a22df2363_720w.jpg" alt="img"></p>
<h3 id="9-2-控制单元的功能"><a href="#9-2-控制单元的功能" class="headerlink" title="9.2 控制单元的功能"></a>9.2 控制单元的功能</h3><p>发出各种控制命令和微指令。</p>
<p><img src="https://pic2.zhimg.com/80/v2-92f9d2ca8721bc62a10c859dcb0da399_720w.jpg" alt="img"></p>
<p><img src="https://pic4.zhimg.com/80/v2-90bb51feab78c7390e4e01cf30f1866f_720w.jpg" alt="img"></p>
<p><img src="https://pic3.zhimg.com/80/v2-36c2c4aacffc7e7c43f97164b447ebae_720w.jpg" alt="img"></p>
<p><img src="https://pic4.zhimg.com/80/v2-7c7fbfdf28804adfee9b7f01efe9c64b_720w.jpg" alt="img"></p>
<p><img src="https://pic1.zhimg.com/80/v2-f1a6d5d012376115300119419afd15d0_720w.jpg" alt="img"></p>
<p><img src="https://pic2.zhimg.com/80/v2-dfb799edfaf102f4e8973f368c00fc99_720w.jpg" alt="img"></p>
<p><img src="https://pic3.zhimg.com/80/v2-f13c6d91223963c75cf74d9ba2093ce2_720w.jpg" alt="img"></p>
<p><img src="https://pic3.zhimg.com/80/v2-945eea3400501415e948088622558fce_720w.jpg" alt="img"></p>
<p><img src="https://pic3.zhimg.com/80/v2-de7ff8a76adac22577d542cac866c1ae_720w.jpg" alt="img"></p>
<p><img src="https://pic2.zhimg.com/80/v2-05b22c2344be072bf7ccf6e0bfe658e1_720w.jpg" alt="img"></p>
<p><img src="https://pic4.zhimg.com/80/v2-6ba1fd7fd49c2dd0d560ecf29cbe84ab_720w.jpg" alt="img"></p>
<p><img src="https://pic3.zhimg.com/80/v2-46c0e6e495df3496358098356e89437a_720w.jpg" alt="img"></p>
<h2 id="10-控制单元的设计"><a href="#10-控制单元的设计" class="headerlink" title="10. 控制单元的设计"></a>10. 控制单元的设计</h2><h3 id="10-1-组合逻辑设计"><a href="#10-1-组合逻辑设计" class="headerlink" title="10.1 组合逻辑设计"></a>10.1 组合逻辑设计</h3><p><img src="https://pic3.zhimg.com/80/v2-afcdb84d70aba264c94c8bfff7b4d8da_720w.jpg" alt="img"></p>
<ul>
<li><strong>操作码译码只有一条有效，为高电平，对应操作为什么，CU给出对应的一个或几个操作控制信号。</strong>如果是几个都有效，说明这个节拍下，这几个可以并行处理。</li>
</ul>
<p><img src="https://pic2.zhimg.com/80/v2-c73a54ec82d4bf5866530b173091ad71_720w.jpg" alt="img"></p>
<p><img src="https://pic1.zhimg.com/80/v2-0050f5c44453167baf1ee347b30f6208_720w.jpg" alt="img"></p>
<ul>
<li>蓝色的C为控制信号，都是由CU在时钟和IR操作码的控制下，在相应节拍给出的。</li>
</ul>
<p><img src="https://pic1.zhimg.com/80/v2-bc2e80321efaf02d3d707a038fd60000_720w.jpg" alt="img"></p>
<ul>
<li>可以并行的微操作，尽可能安排在同一个节拍内。</li>
</ul>
<p><img src="https://pic3.zhimg.com/80/v2-f11dd68c4e3c8245d4b0962e7d7a3c8a_720w.jpg" alt="img"></p>
<p><img src="https://pic4.zhimg.com/80/v2-b816d2c4fed11a5f8094e111ef0eb7e3_720w.jpg" alt="img"></p>
<p><img src="https://pic3.zhimg.com/80/v2-3ce870f40742455d23b1be36d0cf62f2_720w.jpg" alt="img"></p>
<p><img src="https://pic4.zhimg.com/80/v2-307d20fe27c73c90c3650c5838cd2bcf_720w.jpg" alt="img"></p>
<ul>
<li>1.累加器清零</li>
<li>2.ACC按位取反</li>
<li>3.算术右移操作</li>
<li>4.循环左移操作</li>
<li>5.停机指令</li>
<li>6.加法操作，T0，取操作数，将指令地址码送入MAR，同时读信号；T1，内存中的数据送入MDR；T2，累加器中内容和MDR中数据相加，放在累加器中。</li>
<li>7.将累加器中保存的数据，送到地址为X内存中。</li>
<li>8.load，把内存地址为x的内存中数据，取到累加器中。</li>
<li>9.跳转到给定的地址X</li>
<li>10.分支指令，条件转移，如果上条计算指令结果小于0，则跳到X处</li>
</ul>
<p><img src="https://pic4.zhimg.com/80/v2-cbc0a0637644cd09325e9218cbf719e3_720w.jpg" alt="img"></p>
<p>组合逻辑设计步骤：</p>
<ul>
<li>列出操作的时间表</li>
<li>写出微操作命令的最简表达式</li>
<li>画出逻辑图</li>
</ul>
<h3 id="10-2-微程序设计"><a href="#10-2-微程序设计" class="headerlink" title="10.2 微程序设计"></a>10.2 微程序设计</h3><p>采用微程序设计的方法来实现控制器。</p>
<p><img src="https://pic1.zhimg.com/80/v2-ff433902ea666675f621610151ccb174_720w.jpg" alt="img"></p>
<p><img src="https://pic4.zhimg.com/80/v2-82a7909d71ee6e6e656768e183efec1f_720w.jpg" alt="img"></p>
<p><img src="https://pic4.zhimg.com/80/v2-63c59321455516bf050b876d2280f06f_720w.jpg" alt="img"></p>
<p><img src="https://pic2.zhimg.com/80/v2-cdc52466c06d7ec139de56e63edccc4d_720w.jpg" alt="img"></p>
<p><img src="https://pic3.zhimg.com/80/v2-288ca719664f9942395818a51f69fc2a_720w.jpg" alt="img"></p>
<p><img src="https://pic4.zhimg.com/80/v2-d20d3629effd03eacb4fb371d008a947_720w.jpg" alt="img"></p>
<p><img src="https://pic2.zhimg.com/80/v2-6abed604804893e2835d9d0813fbec01_720w.jpg" alt="img"></p>
<p><img src="https://pic1.zhimg.com/80/v2-5b6419bf237035ed8350f2bee32305d8_720w.jpg" alt="img"></p>
<p><img src="https://pic1.zhimg.com/80/v2-ae6becb1050d9bf3f42e50ccb23e6424_720w.jpg" alt="img"></p>
<p><img src="https://pic1.zhimg.com/80/v2-f5a0e27e24c66cf765ecc9fb4bf3dad8_720w.jpg" alt="img"></p>
<p><img src="https://pic2.zhimg.com/80/v2-8ec25c5c29ff19fdc37255a43fd558e1_720w.jpg" alt="img"></p>
<p><img src="https://pic3.zhimg.com/80/v2-0266561975bc190b465bf9f75139517a_720w.jpg" alt="img"></p>
<p><img src="https://pic1.zhimg.com/80/v2-4d988f79331211ea72422a3d7221f824_720w.jpg" alt="img"></p>
<p><img src="https://pic2.zhimg.com/80/v2-65dabbe80ada4860c1fc99af68e4cd5d_720w.jpg" alt="img"></p>
<p><img src="https://pic3.zhimg.com/80/v2-e7c9426dd54938c3392ee7c9f409f81e_720w.jpg" alt="img"></p>
<p><img src="https://pic2.zhimg.com/80/v2-d5fe8ab2aed1d9db05889bac4f66835d_720w.jpg" alt="img"></p>
<p><img src="https://pic1.zhimg.com/80/v2-93a53006aae7efca0a3fc3ac78f1b914_720w.jpg" alt="img"></p>
<p><img src="https://pic1.zhimg.com/80/v2-70c1a78b8f90710483eb238e06d95840_720w.jpg" alt="img"></p>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/04/01/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Roddy">
      <meta itemprop="description" content="选择有时候比努力更重要">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Roddy's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/04/01/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" class="post-title-link" itemprop="url">数据结构与算法</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-04-01 19:39:37" itemprop="dateCreated datePublished" datetime="2022-04-01T19:39:37+08:00">2022-04-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-04-02 21:02:38" itemprop="dateModified" datetime="2022-04-02T21:02:38+08:00">2022-04-02</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="基础篇"><a href="#基础篇" class="headerlink" title="基础篇"></a>基础篇</h1><h2 id="一、认识时间复杂度和简单排序算法"><a href="#一、认识时间复杂度和简单排序算法" class="headerlink" title="一、认识时间复杂度和简单排序算法"></a>一、认识时间复杂度和简单排序算法</h2><h3 id="1-认识时间复杂度"><a href="#1-认识时间复杂度" class="headerlink" title="1.认识时间复杂度"></a><strong>1.认识时间复杂度</strong></h3><p>一个操作如果和样本的数据量没有关系，每次都是固定时间内完成的操作，叫做常数操作。 </p>
<p>时间复杂度为一个算法流程中，常数操作数量的一个指标。常用O(读作big O)来表示。具体 </p>
<p>来说，先要对一个算法流程非常熟悉，然后去写出这个算法流程中，发生了多少常数操作， </p>
<p>进而总结出常数操作数量的表达式。 </p>
<p>在表达式中，只要高阶项，不要低阶项，也不要高阶项的系数，剩下的部分如果为f(N)，那 </p>
<p>么时间复杂度为O(f(N))。 </p>
<p>评价一个算法流程的好坏，先看时间复杂度的指标，然后再分析不同数据样本下的实际运行 </p>
<p>时间，也就是“常数项时间”。</p>
<h3 id="2-选择排序、冒泡排序细节的讲解与复杂度分析"><a href="#2-选择排序、冒泡排序细节的讲解与复杂度分析" class="headerlink" title="2.选择排序、冒泡排序细节的讲解与复杂度分析"></a><strong>2</strong>.<strong>选择排序、冒泡排序细节的讲解与复杂度分析</strong></h3><p>​    时间复杂度O(N^2)，额外空间复杂度O(1)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//选择排序</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">selectSort</span><span class="params">(<span class="type">int</span>[] arr)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (arr == <span class="literal">null</span> || arr.length &lt; <span class="number">2</span>) &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;数组为空或者数组长度小于2！&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; arr.length - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">minIndex</span> <span class="operator">=</span> i;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i + <span class="number">1</span>; j &lt; arr.length; j++) &#123;</span><br><span class="line">            minIndex = arr[j] &lt; arr[minIndex] ? j : minIndex;</span><br><span class="line">        &#125;</span><br><span class="line">        swap(arr, i, minIndex);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//冒泡排序</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">bubbleSort</span><span class="params">(<span class="type">int</span>[] arr)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; arr.length - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; arr.length - i - <span class="number">1</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (arr[j] &gt; arr[j + <span class="number">1</span>]) &#123;</span><br><span class="line">                swap(arr, j, j + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="3-插入排序细节的讲解与复杂度分析"><a href="#3-插入排序细节的讲解与复杂度分析" class="headerlink" title="3.插入排序细节的讲解与复杂度分析"></a><strong>3.插入排序细节的讲解与复杂度分析</strong></h3><p>时间复杂度O(N^2)，额外空间复杂度O(1) </p>
<p>算法流程按照最差情况来估计时间复杂度</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//插入排序</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">insertSort</span><span class="params">(<span class="type">int</span>[] arr)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (arr == <span class="literal">null</span> || arr.length &lt; <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i - <span class="number">1</span>; j &gt;= <span class="number">0</span> &amp;&amp; arr[j] &gt; arr[j + <span class="number">1</span>]; j--) &#123;</span><br><span class="line">            swap(arr, j, j + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="4-二分法的详解与扩展"><a href="#4-二分法的详解与扩展" class="headerlink" title="4.二分法的详解与扩展"></a><strong>4.二分法的详解与扩展</strong></h3><p>​        1）在一个有序数组中，找某个数是否存在 </p>
<p>​        2）在一个有序数组中，找&gt;&#x3D;某个数最左侧的位置 </p>
<p>​        3）局部最小值问题</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在一个有序数组中，找某个数是否存在</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">exist</span><span class="params">(<span class="type">int</span>[] arr, <span class="type">int</span> num)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (arr == <span class="literal">null</span> || arr.length == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="variable">L</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">R</span> <span class="operator">=</span> arr.length - <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (L &lt; R) &#123;</span><br><span class="line">        mid = L + ((R - L) &gt;&gt; <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (arr[mid] &gt; num) &#123;</span><br><span class="line">            R = mid - <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (arr[mid] &lt; num) &#123;</span><br><span class="line">            L = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr[L] == num;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//在一个有序数组中，找&gt;=某个数最左侧的位置</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// 在arr上，找满足&gt;=value的最左位置</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">nearestIndex</span><span class="params">(<span class="type">int</span>[] arr, <span class="type">int</span> value)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">L</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">R</span> <span class="operator">=</span> arr.length - <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (L &lt; R) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> L + ((R - L) &gt;&gt; <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span> (arr[mid] &gt;= value) &#123;</span><br><span class="line">            index = mid;</span><br><span class="line">            R = mid - <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            L = mid + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> index;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="5-异或运算的性质与扩展"><a href="#5-异或运算的性质与扩展" class="headerlink" title="5.异或运算的性质与扩展"></a><strong>5.异或运算的性质与扩展</strong></h3><p>   1）0^N &#x3D;&#x3D; N   N^N &#x3D;&#x3D; 0 </p>
<p>   2）异或运算满足交换律和结合率 </p>
<p>   3）不用额外变量交换两个数 </p>
<p>   4）一个数组中有一种数出现了奇数次，其他数都出现了偶数次，怎么找到这一个数 </p>
<p>   5）一个数组中有两种数出现了奇数次，其他数都出现了偶数次，怎么找到这两个数</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//一个数组中有一种数出现了奇数次，其他数都出现了偶数次，怎么找到这个数</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">printOddTimesNum1</span><span class="params">(<span class="type">int</span>[] arr)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">eor</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">        eor = eor ^ arr[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    System.out.println(eor);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//一个数组中有两种数出现了奇数次，其他数都出现了偶数次，怎么找到这两个数</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">printOddTimesNum2</span><span class="params">(<span class="type">int</span>[] arr)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">eor1</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">eor2</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> curNum : arr) &#123;</span><br><span class="line">        eor1 ^= curNum;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="variable">rightOne</span> <span class="operator">=</span> eor1 &amp; (~eor1 + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> cur : arr) &#123;</span><br><span class="line">        <span class="keyword">if</span> ((cur &amp; rightOne) != <span class="number">0</span>) &#123;</span><br><span class="line">            eor2 ^= cur;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    System.out.println(eor1 + <span class="string">&quot;  &quot;</span> + (eor1 ^ eor2));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="6-对数器的概念和使用"><a href="#6-对数器的概念和使用" class="headerlink" title="6.对数器的概念和使用"></a><strong>6.对数器的概念和使用</strong></h3><p>​    1)，有一个你想要测的方法a </p>
<p>​    2)，实现复杂度不好但是容易实现的方法b </p>
<p>​    3)，实现一个随机样本产生器 </p>
<p>​    4)，把方法a和方法b跑相同的随机样本，看看得到的结果是否一样 </p>
<p>​    5)，如果有一个随机样本使得比对结果不一致，打印样本进行人工干预，改对方法a或者方法b </p>
<p>​    6)，当样本数量很多时比对测试依然正确，可以确定方法a已经正确。</p>
<h3 id="7-剖析递归行为和递归行为时间复杂度的估算"><a href="#7-剖析递归行为和递归行为时间复杂度的估算" class="headerlink" title="7.剖析递归行为和递归行为时间复杂度的估算"></a>7.剖析递归行为和递归行为时间复杂度的估算</h3><pre><code> 用递归方法找一个数组中的最大值，系统上到底是怎么做的？ 
</code></pre>
<p>​    master公式的使用 </p>
<p>​    T(N) &#x3D; a*T(N&#x2F;b) + O(N^d) </p>
<p>​    1) log(b,a) &gt; d -&gt; 复杂度为O(N^log(b,a)) </p>
<p>​    2) log(b,a) &#x3D; d -&gt; 复杂度为O(N^d * logN) </p>
<p>​    3) log(b,a) &lt; d -&gt; 复杂度为O(N^d)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Code06_GetMax</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] arr = &#123;<span class="number">3</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">4</span>&#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">getMax</span><span class="params">(<span class="type">int</span>[] arr)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> process(arr, <span class="number">0</span>, arr.length - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">process</span><span class="params">(<span class="type">int</span>[] arr, <span class="type">int</span> L, <span class="type">int</span> R)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (L == R) &#123; <span class="comment">//arr[L...R]范围上只有一个数，直接返回</span></span><br><span class="line">            <span class="keyword">return</span> arr[L];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> L + (R - L) &gt;&gt; <span class="number">1</span>;<span class="comment">//中点</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">leftMax</span> <span class="operator">=</span> process(arr, L, mid);</span><br><span class="line">        <span class="type">int</span> <span class="variable">rightMax</span> <span class="operator">=</span> process(arr, mid + <span class="number">1</span>, R);</span><br><span class="line">        <span class="keyword">return</span> Math.max(leftMax, rightMax);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="二、认识O-NlogN-的排序"><a href="#二、认识O-NlogN-的排序" class="headerlink" title="二、认识O(NlogN)的排序"></a>二、认识O(NlogN)的排序</h2><h3 id="1-归并排序"><a href="#1-归并排序" class="headerlink" title="1.归并排序"></a>1.归并排序</h3><p>​    1）整体就是一个简单递归，左边排好序、右边排好序、让其整体有序 </p>
<p>​    2）让其整体有序的过程里用了排外序方法 </p>
<p>​    3）利用master公式来求解时间复杂度 </p>
<p>​    4）归并排序的实质 </p>
<p>​    时间复杂度O(N*logN)，额外空间复杂度O(N)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> _1.class02;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">_1_MergeSort</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] arr = &#123;<span class="number">1</span>, <span class="number">6</span>, <span class="number">33</span>, <span class="number">95</span>, <span class="number">2</span>&#125;;</span><br><span class="line">        mergeSort(arr, <span class="number">0</span>, arr.length - <span class="number">1</span>);</span><br><span class="line">        System.out.println(Arrays.toString(arr));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">mergeSort</span><span class="params">(<span class="type">int</span>[] arr, <span class="type">int</span> l, <span class="type">int</span> r)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (l == r) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> l + ((r - l) &gt;&gt; <span class="number">1</span>);</span><br><span class="line">        mergeSort(arr, l, mid);</span><br><span class="line">        mergeSort(arr, mid + <span class="number">1</span>, r);</span><br><span class="line">        merge(arr, l, mid, r);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">merge</span><span class="params">(<span class="type">int</span>[] arr, <span class="type">int</span> l, <span class="type">int</span> m, <span class="type">int</span> r)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] help = <span class="keyword">new</span> <span class="title class_">int</span>[r - l + <span class="number">1</span>];</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">p1</span> <span class="operator">=</span> l;</span><br><span class="line">        <span class="type">int</span> <span class="variable">p2</span> <span class="operator">=</span> m + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (p1 &lt;= m &amp;&amp; p2 &lt;= r) &#123;</span><br><span class="line">            help[i++] = arr[p1] &lt; arr[p2] ? arr[p1++] : arr[p2++];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (p1 &lt;= m) &#123;</span><br><span class="line">            help[i] = arr[p1];</span><br><span class="line">            i++;</span><br><span class="line">            p1++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (p2 &lt;= r) &#123;</span><br><span class="line">            help[i] = arr[p2];</span><br><span class="line">            i++;</span><br><span class="line">            p2++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; help.length; i++) &#123;</span><br><span class="line">            arr[l + i] = help[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="2-归并排序的扩展"><a href="#2-归并排序的扩展" class="headerlink" title="2.归并排序的扩展"></a>2.归并排序的扩展</h3><p>​    小和问题和逆序对问题 </p>
<p>​    小和问题 </p>
<p>​    在一个数组中，每一个数左边比当前数小的数累加起来，叫做这个数组 </p>
<p>​    的小和。求一个数组 的小和。 </p>
<p>​    例子:[1,3,4,2,5] 1左边比1小的数，没有; 3左边比3小的数，1; 4左 </p>
<p>​    边比4小的数，1、3; 2左边比2小的数，1; 5左边比5小的数，1、3、4、 </p>
<p>​    2; 所以小和为1+1+3+1+1+3+4+2&#x3D;16 </p>
<p>​    逆序对问题 在一个数组中，左边的数如果比右边的数大，则折两个数 </p>
<p>​    构成一个逆序对，请打印所有逆序对。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//小和问题</span></span><br><span class="line"><span class="keyword">package</span> _1.class02;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">_2_SmallSum</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] arr = &#123;<span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>&#125;;</span><br><span class="line">        <span class="type">int</span> <span class="variable">smallSum</span> <span class="operator">=</span> mergeSort(arr, <span class="number">0</span>, arr.length - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(smallSum);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">mergeSort</span><span class="params">(<span class="type">int</span>[] arr, <span class="type">int</span> l, <span class="type">int</span> r)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (l == r) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> l + ((r - l) &gt;&gt; <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> mergeSort(arr, l, mid)</span><br><span class="line">                + mergeSort(arr, mid + <span class="number">1</span>, r)</span><br><span class="line">                + merge(arr, l, mid, r);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">merge</span><span class="params">(<span class="type">int</span>[] arr, <span class="type">int</span> l, <span class="type">int</span> m, <span class="type">int</span> r)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] help = <span class="keyword">new</span> <span class="title class_">int</span>[r - l + <span class="number">1</span>];</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">p1</span> <span class="operator">=</span> l;</span><br><span class="line">        <span class="type">int</span> <span class="variable">p2</span> <span class="operator">=</span> m + <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (p1 &lt;= m &amp;&amp; p2 &lt;= r) &#123;</span><br><span class="line">            res += arr[p1] &lt; arr[p2] ? (r - p2 + <span class="number">1</span>) * arr[p1] : <span class="number">0</span>;</span><br><span class="line">            help[i++] = arr[p1] &lt; arr[p2] ? arr[p1++] : arr[p2++];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (p1 &lt;= m) &#123;</span><br><span class="line">            help[i++] = arr[p1++];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (p2 &lt;= r) &#123;</span><br><span class="line">            help[i++] = arr[p2++];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; help.length; i++) &#123;</span><br><span class="line">            arr[l + i] = help[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/03/31/Markdown%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Roddy">
      <meta itemprop="description" content="选择有时候比努力更重要">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Roddy's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/03/31/Markdown%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/" class="post-title-link" itemprop="url">Markdown快速入门</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-03-31 23:44:44" itemprop="dateCreated datePublished" datetime="2022-03-31T23:44:44+08:00">2022-03-31</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-04-01 22:15:07" itemprop="dateModified" datetime="2022-04-01T22:15:07+08:00">2022-04-01</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="1、代码块："><a href="#1、代码块：" class="headerlink" title="1、代码块："></a>1、代码块：</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//代码块语法：</span></span><br><span class="line">​```java</span><br><span class="line">    </span><br><span class="line">  </span><br></pre></td></tr></table></figure>



<p>1.java代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Hello World&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2.shell脚本</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">//linux下spring项目的启动命令</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">java -jar blog start</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="2、标题："><a href="#2、标题：" class="headerlink" title="2、标题："></a>2、标题：</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//标题</span></span><br><span class="line"># 一级标题</span><br><span class="line">## 二级标题</span><br><span class="line">### 三级标题</span><br><span class="line">#### 四级标题</span><br><span class="line">##### 五级标题</span><br><span class="line">###### 六级标题</span><br><span class="line">    </span><br></pre></td></tr></table></figure>

<h2 id="3、字体"><a href="#3、字体" class="headerlink" title="3、字体"></a>3、字体</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//加粗</span></span><br><span class="line">**等不到天黑**</span><br><span class="line"><span class="comment">//代码高亮</span></span><br><span class="line">==我不是罗迪==</span><br><span class="line"><span class="comment">//删除线</span></span><br><span class="line">~~被删除的文字~~</span><br><span class="line"><span class="comment">//斜体</span></span><br><span class="line">*斜体内容*    </span><br></pre></td></tr></table></figure>


<p><strong>等不到天黑</strong></p>
<p>&#x3D;&#x3D;我不是罗迪&#x3D;&#x3D;</p>
<p><del>被删除的文字</del></p>
<p><em>斜体内容</em></p>
<h2 id="4、引用"><a href="#4、引用" class="headerlink" title="4、引用"></a>4、引用</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//引用语法</span><br><span class="line">&gt;作者：叶仁平</span><br><span class="line">&gt;&gt;作者：叶仁平</span><br><span class="line">&gt;&gt;&gt;作者：叶仁平</span><br></pre></td></tr></table></figure>

<blockquote>
<p>作者：叶仁平</p>
<blockquote>
<p>作者：叶仁平</p>
<blockquote>
<p>作者：叶仁平</p>
</blockquote>
</blockquote>
</blockquote>
<h2 id="5、分割线"><a href="#5、分割线" class="headerlink" title="5、分割线"></a>5、分割线</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//分割线1</span></span><br><span class="line">---</span><br><span class="line"><span class="comment">//分割线2</span></span><br><span class="line">***    </span><br></pre></td></tr></table></figure>

<hr>
<hr>
<h2 id="6、图片插入"><a href="#6、图片插入" class="headerlink" title="6、图片插入"></a>6、图片插入</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//在线图片/本地图片</span><br><span class="line">![我的照片]()</span><br></pre></td></tr></table></figure>

<img src="https://tse4-mm.cn.bing.net/th/id/OIP-C.DQcOipe7nLHVtSW3KQs6rQHaEo?pid=ImgDet&amp;rs=1" alt="我的照片" style="zoom:100%;" />

<h2 id="7、超链接"><a href="#7、超链接" class="headerlink" title="7、超链接"></a>7、超链接</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//超链接语法</span><br><span class="line">[我的github](https://github.com/Roddy11)</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://github.com/Roddy11">我的github</a></p>
<h2 id="8、列表语法"><a href="#8、列表语法" class="headerlink" title="8、列表语法"></a>8、列表语法</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//无序列表</span><br><span class="line">-目录1</span><br><span class="line">-目录2</span><br><span class="line">-目录3</span><br></pre></td></tr></table></figure>

<ul>
<li>目录1<ul>
<li>目录2<ul>
<li>目录3</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="9、表格"><a href="#9、表格" class="headerlink" title="9、表格"></a>9、表格</h2><table>
<thead>
<tr>
<th>语文</th>
<th>数学</th>
<th>英语</th>
</tr>
</thead>
<tbody><tr>
<td>70</td>
<td>80</td>
<td>99</td>
</tr>
</tbody></table>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Roddy</p>
  <div class="site-description" itemprop="description">选择有时候比努力更重要</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">3</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Roddy</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/haruto.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":false},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
